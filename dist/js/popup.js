(()=>{"use strict";const e=document.getElementById("downloadData"),t=document.getElementById("output"),o=document.getElementById("clearCache"),r=document.getElementById("userId");chrome.storage.local.get(["userId"],(e=>{e.userId&&(r.value=e.userId)})),r.addEventListener("change",(()=>{const e=r.value.trim();chrome.storage.local.set({userId:e},(()=>{t.textContent="User ID saved."}))})),e.addEventListener("click",(()=>{try{const e=r.value.trim();chrome.runtime.sendMessage({action:"downloadData",userId:e},(e=>{e.success?t.textContent="Data downloaded successfully.":t.textContent=`Failed to download data: ${e.error||"Unknown error"}`}))}catch(e){t.textContent=`Error: ${e.message}`}})),o.addEventListener("click",(()=>{try{chrome.storage.local.remove("htmlSnapshots"),chrome.storage.local.remove("orderDetails"),chrome.storage.local.remove("interactions"),chrome.storage.local.remove("screenshots"),chrome.runtime.sendMessage({action:"clearMemoryCache"},(()=>{t.textContent="Cache cleared successfully."}))}catch(e){t.textContent=`Error: ${e.message}`}}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9wdXAuanMiLCJtYXBwaW5ncyI6Im1CQUNBLE1BQU1BLEVBQWtCQyxTQUFTQyxlQUFlLGdCQUMxQ0MsRUFBWUYsU0FBU0MsZUFBZSxVQUNwQ0UsRUFBZ0JILFNBQVNDLGVBQWUsY0FDeENHLEVBQWNKLFNBQVNDLGVBQWUsVUFDNUNJLE9BQU9DLFFBQVFDLE1BQU1DLElBQUksQ0FBQyxXQUFZQyxJQUM5QkEsRUFBT0MsU0FDUE4sRUFBWU8sTUFBUUYsRUFBT0MsT0FDL0IsSUFFSk4sRUFBWVEsaUJBQWlCLFVBQVUsS0FDbkMsTUFBTUYsRUFBU04sRUFBWU8sTUFBTUUsT0FDakNSLE9BQU9DLFFBQVFDLE1BQU1PLElBQUksQ0FBRUosT0FBUUEsSUFBVSxLQUN6Q1IsRUFBVWEsWUFBYyxnQkFBZ0IsR0FDMUMsSUFFTmhCLEVBQWdCYSxpQkFBaUIsU0FBUyxLQUN0QyxJQUNJLE1BQU1GLEVBQVNOLEVBQVlPLE1BQU1FLE9BQ2pDUixPQUFPVyxRQUFRQyxZQUFZLENBQUVDLE9BQVEsZUFBZ0JSLFdBQVdTLElBQ3hEQSxFQUFTQyxRQUNUbEIsRUFBVWEsWUFBYyxnQ0FHeEJiLEVBQVVhLFlBQWMsNEJBQTRCSSxFQUFTRSxPQUFTLGlCQUMxRSxHQUVSLENBQ0EsTUFBT0EsR0FDSG5CLEVBQVVhLFlBQWMsVUFBVU0sRUFBTUMsU0FDNUMsS0FFSm5CLEVBQWNTLGlCQUFpQixTQUFTLEtBQ3BDLElBQ0lQLE9BQU9DLFFBQVFDLE1BQU1nQixPQUFPLGlCQUM1QmxCLE9BQU9DLFFBQVFDLE1BQU1nQixPQUFPLGdCQUM1QmxCLE9BQU9DLFFBQVFDLE1BQU1nQixPQUFPLGdCQUM1QmxCLE9BQU9DLFFBQVFDLE1BQU1nQixPQUFPLGVBQzVCbEIsT0FBT1csUUFBUUMsWUFBWSxDQUFFQyxPQUFRLHFCQUFzQixLQUN2RGhCLEVBQVVhLFlBQWMsNkJBQTZCLEdBRTdELENBQ0EsTUFBT00sR0FDSG5CLEVBQVVhLFlBQWMsVUFBVU0sRUFBTUMsU0FDNUMsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2Nocm9tZS1leHRlbnNpb24tdHlwZXNjcmlwdC1zdGFydGVyLy4vc3JjL3BvcHVwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgZG93bmxvYWREYXRhQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkRGF0YScpO1xuY29uc3Qgb3V0cHV0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ291dHB1dCcpO1xuY29uc3QgY2xlYXJDYWNoZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGVhckNhY2hlJyk7XG5jb25zdCB1c2VySWRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VySWQnKTtcbmNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChbJ3VzZXJJZCddLCAocmVzdWx0KSA9PiB7XG4gICAgaWYgKHJlc3VsdC51c2VySWQpIHtcbiAgICAgICAgdXNlcklkSW5wdXQudmFsdWUgPSByZXN1bHQudXNlcklkO1xuICAgIH1cbn0pO1xudXNlcklkSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXJJZCA9IHVzZXJJZElucHV0LnZhbHVlLnRyaW0oKTtcbiAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyB1c2VySWQ6IHVzZXJJZCB9LCAoKSA9PiB7XG4gICAgICAgIG91dHB1dERpdi50ZXh0Q29udGVudCA9ICdVc2VyIElEIHNhdmVkLic7XG4gICAgfSk7XG59KTtcbmRvd25sb2FkRGF0YUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VySWQgPSB1c2VySWRJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHsgYWN0aW9uOiAnZG93bmxvYWREYXRhJywgdXNlcklkIH0sIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXREaXYudGV4dENvbnRlbnQgPSAnRGF0YSBkb3dubG9hZGVkIHN1Y2Nlc3NmdWxseS4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0RGl2LnRleHRDb250ZW50ID0gYEZhaWxlZCB0byBkb3dubG9hZCBkYXRhOiAke3Jlc3BvbnNlLmVycm9yIHx8ICdVbmtub3duIGVycm9yJ31gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIG91dHB1dERpdi50ZXh0Q29udGVudCA9IGBFcnJvcjogJHtlcnJvci5tZXNzYWdlfWA7XG4gICAgfVxufSk7XG5jbGVhckNhY2hlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLnJlbW92ZSgnaHRtbFNuYXBzaG90cycpO1xuICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5yZW1vdmUoJ29yZGVyRGV0YWlscycpO1xuICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5yZW1vdmUoJ2ludGVyYWN0aW9ucycpO1xuICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5yZW1vdmUoJ3NjcmVlbnNob3RzJyk7XG4gICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHsgYWN0aW9uOiAnY2xlYXJNZW1vcnlDYWNoZScgfSwgKCkgPT4ge1xuICAgICAgICAgICAgb3V0cHV0RGl2LnRleHRDb250ZW50ID0gJ0NhY2hlIGNsZWFyZWQgc3VjY2Vzc2Z1bGx5Lic7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgb3V0cHV0RGl2LnRleHRDb250ZW50ID0gYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YDtcbiAgICB9XG59KTtcbiJdLCJuYW1lcyI6WyJkb3dubG9hZERhdGFCdG4iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwib3V0cHV0RGl2IiwiY2xlYXJDYWNoZUJ0biIsInVzZXJJZElucHV0IiwiY2hyb21lIiwic3RvcmFnZSIsImxvY2FsIiwiZ2V0IiwicmVzdWx0IiwidXNlcklkIiwidmFsdWUiLCJhZGRFdmVudExpc3RlbmVyIiwidHJpbSIsInNldCIsInRleHRDb250ZW50IiwicnVudGltZSIsInNlbmRNZXNzYWdlIiwiYWN0aW9uIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwiZXJyb3IiLCJtZXNzYWdlIiwicmVtb3ZlIl0sInNvdXJjZVJvb3QiOiIifQ==