(()=>{"use strict";const e={selector:"#nav-search-bar-form",children:[{selector:"input#twotabsearchtextbox",name:"search_input"},{selector:"#nav-search-submit-button",clickable:!0,name:"search_button"}]},t=[{match:"/",match_method:"url",selector:"html",children:[{selector:"head",children:[{selector:"title",add_text:!0}]},{selector:"body",children:[e]}]},{match:"/s",match_method:"url",selector:"html",children:[{selector:"head",children:[{selector:"title",add_text:!0}]},{selector:"body",children:[e,{selector:"#s-refinements",name:"refinements",children:[{selector:"div.a-section.a-spacing-none:not(:has(#n-title)):has(span.a-size-base.a-color-base.puis-bold-weight-text):has(ul span.a-declarative > span > li):not(#reviewsRefinements):not(#departments):not(#priceRefinements):not(#filters)",name:"from_text",text_selector:"span.a-size-base.a-color-base.puis-bold-weight-text",children:[{selector:"span.a-size-base.a-color-base.puis-bold-weight-text",add_text:!0,class:"refinement-title"},{selector:"ul:nth-of-type(1) > span.a-declarative > span > li",add_text:!0,name:"from_text",clickable:!0,click_selector:"a",direct_child:!0,children:[{selector:"input[type='checkbox']"}]}]},{selector:"#departments",name:"departments",children:[{selector:"li a",add_text:!0,name:"from_text",clickable:!0}]},{selector:"#reviewsRefinements",name:"reviews_refinements",children:[{selector:"li a",add_text:!0,name:"from_text",clickable:!0}]}]},{selector:"div.s-main-slot.s-result-list.s-search-results",name:"search_results",children:[{insert_split_marker:!0,insert_split_marker_every:4,selector:'div[data-component-type="s-search-result"]',text_selector:"span.a-size-base-plus.a-color-base.a-text-normal",name:"from_text",class:"search-result",children:[{selector:"div[data-cy='title-recipe'] a",add_text:!0,class:"product-name",clickable:!0,name:"view_product"},{selector:"div[data-cy='reviews-block']",class:"product-review",children:[{selector:"span.a-icon-alt",add_text:!0,class:"product-rating"},{selector:"span.a-size-base.s-underline-text",add_text:!0,text_format:"{} reviews",class:"product-rating-count"}]},{selector:"div[data-cy='price-recipe']",class:"product-price",children:[{selector:"a.a-link-normal > span.a-price > span.a-offscreen",add_text:!0}]},{selector:"div[data-cy='delivery-recipe']",add_text:!0,class:"product-delivery"}]}]},{selector:"span.s-pagination-strip",name:"pagination",children:[{selector:".s-pagination-item",add_text:!0,name:"from_text",clickable:!0}]}]}]},{match:"#productTitle",match_text:"",selector:"html",terminate:"return !!arguments[0]",terminate_callback:"return arguments[0]",children:[{selector:"head",children:[{selector:"title",add_text:!0}]},{selector:"body",children:[e,{selector:"#centerCol",class:"product-card",children:[{selector:"#title",add_text:!0,keep_attr:["id"]},{selector:"#averageCustomerReviews",class:"review",children:[{selector:"span.a-icon-alt",add_text:!0},{selector:"#acrCustomerReviewText",add_text:!0}]},{selector:"#apex_desktop_newAccordionRow #corePriceDisplay_desktop_feature_div span.a-price.aok-align-center.reinventPricePriceToPayMargin.priceToPay",add_text:!0,text_format:"Price: {}",class:"product-price"},{selector:"#twister",class:"product-options",children:[{selector:"div.a-row:has(label.a-form-label):has(span.selection)",children:[{selector:"label.a-form-label",add_text:!0},{selector:"span.selection",add_text:!0}]}]}]},{selector:"#addToCart:has(#buy-now-button)",name:"add_to_cart",children:[{selector:"#productFactsDesktopExpander",add_text:!0,class:"product-facts"},{selector:"div.mir-layout-DELIVERY_BLOCK-slot-PRIMARY_DELIVERY_MESSAGE_LARGE",add_text:!0,class:"product-delivery"},{selector:"#buy-now-button",add_text:!0,clickable:!0,name:"buy_now",class:"product-buy-now",before_hook:'\nconst title = document.querySelector("#title").innerText\nconst price = document.querySelector("span.a-price.aok-align-center.reinventPricePriceToPayMargin.priceToPay").innerText\nconst options = Array.from(document.querySelectorAll("#twister div.a-row:has(label.a-form-label):has(span.selection)")).map(a => ({label: a.querySelector("label.a-form-label").innerText, value: a.querySelector("span.selection").innerText}))\nconst options_dict = {}\nfor (const option of options) {\n    options_dict[option["label"].replace(": ", "")] = option["value"]\n}\nconst asin = document.querySelector("input#ASIN").value\nconsole.log({title, price, options: options_dict, asin})\nreturn {title, price, options: options_dict, asin}\n'}]}]}]},{match:"/ap/signin",match_method:"url",terminate:"return !!arguments[0]",terminate_callback:"return arguments[0]",selector:"html"}];var o=function(e,t,o,r){return new(o||(o=Promise))((function(a,c){function s(e){try{l(r.next(e))}catch(e){c(e)}}function n(e){try{l(r.throw(e))}catch(e){c(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,n)}l((r=r.apply(e,t||[])).next())}))};let r=[],a=[];chrome.runtime.onMessage.addListener(((e,t,c)=>(o(void 0,void 0,void 0,(function*(){try{if("saveData"===e.action){if(console.log("saveData ",e.data.eventType),r.push(e.data),r.length>10){let e=yield chrome.storage.local.get({interactions:[]});e=e.interactions||[];let t=e.concat(r);r.length=0,yield chrome.storage.local.set({interactions:t})}c({success:!0})}if("captureScreenshot"===e.action){const t=yield function(){return o(this,void 0,void 0,(function*(){try{const[e]=yield chrome.tabs.query({active:!0,currentWindow:!0});if(e)return yield chrome.tabs.captureVisibleTab(e.windowId,{format:"jpeg",quality:50})}catch(e){console.error("Error capturing screenshot:",e)}return null}))}();if(t){if(a.push([t,e.screenshotId]),a.length>10){let e=yield chrome.storage.local.get({screenshots:[]});e=e.screenshots||[];const t=e.concat(a);a.length=0,yield chrome.storage.local.set({screenshots:t})}c({success:!0})}else c({success:!1,message:"Failed to capture screenshot"})}if("downloadData"===e.action){const e=(new Date).toISOString().replace(/[:.]/g,"-"),t=`DATA/SESSION_${e}`;chrome.downloads.download({url:"data:text/plain;charset=utf-8,"+encodeURIComponent(`Session data for timestamp: ${e}`),filename:`${t}/session_info.txt`,saveAs:!1},(e=>o(void 0,void 0,void 0,(function*(){let e=(yield chrome.storage.local.get({htmlSnapshots:[]})).htmlSnapshots||{};chrome.storage.local.remove("htmlSnapshots"),console.log(e);const o=yield chrome.storage.local.get({interactions:[]});chrome.storage.local.remove("interactions");let s=o.interactions||[];console.log(s),s=s.concat(r),r.length=0;let n=(yield chrome.storage.local.get({orderDetails:[]})).orderDetails||[];chrome.storage.local.remove("orderDetails");const l={htmlSnapshots:e,interactions:s,orderDetails:n},i=JSON.stringify(l,null,2);chrome.downloads.download({url:"data:text/json;charset=utf-8,"+encodeURIComponent(i),filename:`${t}/interactions.json`,saveAs:!1});const d=yield chrome.storage.local.get({screenshots:[]});chrome.storage.local.remove("screenshots");let h=d.screenshots||[];h=h.concat(a),console.log(h),a.length=0,h.forEach(((e,o)=>{console.log(e);const r=`${t}/${e[1].replace(/[:.]/g,"-")}.jpg`;chrome.downloads.download({url:e[0],filename:r,saveAs:!1})})),c({success:!0}),chrome.storage.local.clear()}))))}"clearCache"===e.action&&(chrome.storage.local.clear(),c({success:!0}))}catch(e){chrome.storage.local.clear(),console.error("Error handling message:",e),c({success:!1,error:e.message})}})),!0))),chrome.runtime.onMessage.addListener(((e,r,a)=>{var c;if("getRecipe"===e.action&&(null===(c=r.tab)||void 0===c?void 0:c.id))return function(e,r){return o(this,void 0,void 0,(function*(){const o=new URL(r).pathname;for(const r of t){const t=r.match_method||"text";if("text"===t)try{const[{result:t}]=yield chrome.scripting.executeScript({target:{tabId:e},func:(e,t)=>{var o,r;const a=document.querySelector(e);return a&&(!t||null!==(r=null===(o=a.textContent)||void 0===o?void 0:o.toLowerCase().includes(t.toLowerCase()))&&void 0!==r&&r)},args:[r.match,r.match_text||""]});if(t)return r}catch(e){console.error("Error checking text match:",e)}else if("url"===t&&r.match===o)return r}throw new Error(`No matching recipe found for path: ${o}`)}))}(r.tab.id,e.url).then((e=>{a({recipe:e})})).catch((e=>{a({error:e.message})})),!0}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsIm1hcHBpbmdzIjoibUJBQU8sTUFBTUEsRUFBTSxDQUNmLFNBQVksdUJBQ1osU0FBWSxDQUNSLENBQ0ksU0FBWSw0QkFDWixLQUFRLGdCQUVaLENBQ0ksU0FBWSw0QkFDWixXQUFhLEVBQ2IsS0FBUSxtQkFvQlBDLEVBQVUsQ0FDbkIsQ0FDSSxNQUFTLElBQ1QsYUFBZ0IsTUFDaEIsU0FBWSxPQUNaLFNBQVksQ0FDUixDQUFFLFNBQVksT0FBUSxTQUFZLENBQUMsQ0FBRSxTQUFZLFFBQVMsVUFBWSxLQUN0RSxDQUNJLFNBQVksT0FDWixTQUFZLENBQUNELE1BSXpCLENBQ0ksTUFBUyxLQUNULGFBQWdCLE1BQ2hCLFNBQVksT0FDWixTQUFZLENBQ1IsQ0FBRSxTQUFZLE9BQVEsU0FBWSxDQUFDLENBQUUsU0FBWSxRQUFTLFVBQVksS0FDdEUsQ0FDSSxTQUFZLE9BQ1osU0FBWSxDQUNSQSxFQUNBLENBQ0ksU0FBWSxpQkFDWixLQUFRLGNBQ1IsU0FBWSxDQUNSLENBQ0ksU0FBWSxtT0FDWixLQUFRLFlBQ1IsY0FBaUIsc0RBQ2pCLFNBL0NDLENBQzdCLENBQ0ksU0FBWSxzREFDWixVQUFZLEVBQ1osTUFBUyxvQkFFYixDQUNJLFNBQVkscURBQ1osVUFBWSxFQUNaLEtBQVEsWUFDUixXQUFhLEVBQ2IsZUFBa0IsSUFDbEIsY0FBZ0IsRUFDaEIsU0FBWSxDQUFDLENBQUUsU0FBWSw4QkFvQ1AsQ0FDSSxTQUFZLGVBQ1osS0FBUSxjQUNSLFNBQVksQ0FDUixDQUNJLFNBQVksT0FDWixVQUFZLEVBQ1osS0FBUSxZQUNSLFdBQWEsS0FJekIsQ0FDSSxTQUFZLHNCQUNaLEtBQVEsc0JBQ1IsU0FBWSxDQUNSLENBQ0ksU0FBWSxPQUNaLFVBQVksRUFDWixLQUFRLFlBQ1IsV0FBYSxPQU1qQyxDQUNJLFNBQVksaURBQ1osS0FBUSxpQkFDUixTQUFZLENBQ1IsQ0FDSSxxQkFBdUIsRUFDdkIsMEJBQTZCLEVBQzdCLFNBQVksNkNBQ1osY0FBaUIsbURBQ2pCLEtBQVEsWUFDUixNQUFTLGdCQUNULFNBQVksQ0FDUixDQUNJLFNBQVksZ0NBQ1osVUFBWSxFQUNaLE1BQVMsZUFDVCxXQUFhLEVBQ2IsS0FBUSxnQkFFWixDQUNJLFNBQVksK0JBQ1osTUFBUyxpQkFDVCxTQUFZLENBQ1IsQ0FDSSxTQUFZLGtCQUNaLFVBQVksRUFDWixNQUFTLGtCQUViLENBQ0ksU0FBWSxvQ0FDWixVQUFZLEVBQ1osWUFBZSxhQUNmLE1BQVMsMEJBSXJCLENBQ0ksU0FBWSw4QkFDWixNQUFTLGdCQUNULFNBQVksQ0FDUixDQUNJLFNBQVksb0RBQ1osVUFBWSxLQUl4QixDQUNJLFNBQVksaUNBQ1osVUFBWSxFQUNaLE1BQVMsd0JBTTdCLENBQ0ksU0FBWSwwQkFDWixLQUFRLGFBQ1IsU0FBWSxDQUNSLENBQ0ksU0FBWSxxQkFDWixVQUFZLEVBQ1osS0FBUSxZQUNSLFdBQWEsU0FRekMsQ0FDSSxNQUFTLGdCQUNULFdBQWMsR0FDZCxTQUFZLE9BQ1osVUFBYSx3QkFDYixtQkFBc0Isc0JBQ3RCLFNBQVksQ0FDUixDQUFFLFNBQVksT0FBUSxTQUFZLENBQUMsQ0FBRSxTQUFZLFFBQVMsVUFBWSxLQUN0RSxDQUNJLFNBQVksT0FDWixTQUFZLENBQ1JBLEVBQ0EsQ0FDSSxTQUFZLGFBQ1osTUFBUyxlQUNULFNBQVksQ0FDUixDQUNJLFNBQVksU0FDWixVQUFZLEVBQ1osVUFBYSxDQUFDLE9BRWxCLENBQ0ksU0FBWSwwQkFDWixNQUFTLFNBQ1QsU0FBWSxDQUNSLENBQ0ksU0FBWSxrQkFDWixVQUFZLEdBRWhCLENBQ0ksU0FBWSx5QkFDWixVQUFZLEtBSXhCLENBQ0ksU0FBWSw2SUFDWixVQUFZLEVBQ1osWUFBZSxZQUNmLE1BQVMsaUJBRWIsQ0FDSSxTQUFZLFdBQ1osTUFBUyxrQkFDVCxTQUFZLENBQ1IsQ0FDSSxTQUFZLHdEQUNaLFNBQVksQ0FDUixDQUNJLFNBQVkscUJBQ1osVUFBWSxHQUVoQixDQUNJLFNBQVksaUJBQ1osVUFBWSxTQVF4QyxDQUNJLFNBQVksa0NBQ1osS0FBUSxjQUNSLFNBQVksQ0FDUixDQUNJLFNBQVksK0JBQ1osVUFBWSxFQUNaLE1BQVMsaUJBRWIsQ0FDSSxTQUFZLG9FQUNaLFVBQVksRUFDWixNQUFTLG9CQUViLENBQ0ksU0FBWSxrQkFDWixVQUFZLEVBQ1osV0FBYSxFQUNiLEtBQVEsVUFDUixNQUFTLGtCQUNULFlBQWUsNnRCQW1CM0MsQ0FDSSxNQUFTLGFBQ1QsYUFBZ0IsTUFDaEIsVUFBYSx3QkFDYixtQkFBc0Isc0JBQ3RCLFNBQVksU0MxUXBCLElBQUlFLEVBQXdDLFNBQVVDLEVBQVNDLEVBQVlDLEVBQUdDLEdBRTFFLE9BQU8sSUFBS0QsSUFBTUEsRUFBSUUsV0FBVSxTQUFVQyxFQUFTQyxHQUMvQyxTQUFTQyxFQUFVQyxHQUFTLElBQU1DLEVBQUtOLEVBQVVPLEtBQUtGLEdBQVMsQ0FBRSxNQUFPRyxHQUFLTCxFQUFPSyxFQUFJLENBQUUsQ0FDMUYsU0FBU0MsRUFBU0osR0FBUyxJQUFNQyxFQUFLTixFQUFpQixNQUFFSyxHQUFTLENBQUUsTUFBT0csR0FBS0wsRUFBT0ssRUFBSSxDQUFFLENBQzdGLFNBQVNGLEVBQUtJLEdBSmxCLElBQWVMLEVBSWFLLEVBQU9DLEtBQU9ULEVBQVFRLEVBQU9MLFFBSjFDQSxFQUl5REssRUFBT0wsTUFKaERBLGFBQWlCTixFQUFJTSxFQUFRLElBQUlOLEdBQUUsU0FBVUcsR0FBV0EsRUFBUUcsRUFBUSxLQUlqQk8sS0FBS1IsRUFBV0ssRUFBVyxDQUM3R0gsR0FBTU4sRUFBWUEsRUFBVWEsTUFBTWhCLEVBQVNDLEdBQWMsS0FBS1MsT0FDbEUsR0FDSixFQUVBLElBQUlPLEVBQWUsR0FFZkMsRUFBYyxHQUVsQkMsT0FBT0MsUUFBUUMsVUFBVUMsYUFBWSxDQUFDQyxFQUFTQyxFQUFRQyxLQUM1QzFCLE9BQVUsT0FBUSxPQUFRLEdBQVEsWUFDckMsSUFDSSxHQUF1QixhQUFuQndCLEVBQVFHLE9BQXVCLENBRy9CLEdBRkFDLFFBQVFDLElBQUksWUFBYUwsRUFBUU0sS0FBS0MsV0FDdENiLEVBQWFjLEtBQUtSLEVBQVFNLE1BQ3RCWixFQUFhZSxPQVRQLEdBU21DLENBQ3pDLElBQUluQixRQUFlTSxPQUFPYyxRQUFRQyxNQUFNQyxJQUFJLENBQUVsQixhQUFjLEtBQzVESixFQUFTQSxFQUFPSSxjQUFnQixHQUNoQyxJQUFJbUIsRUFBb0J2QixFQUFPd0IsT0FBT3BCLEdBQ3RDQSxFQUFhZSxPQUFTLFFBQ2hCYixPQUFPYyxRQUFRQyxNQUFNSSxJQUFJLENBQUVyQixhQUFjbUIsR0FDbkQsQ0FDQVgsRUFBYSxDQUFFYyxTQUFTLEdBQzVCLENBRUEsR0FBdUIsc0JBQW5CaEIsRUFBUUcsT0FBZ0MsQ0FDeEMsTUFBTWMsUUFxRnRCLFdBQ0ksT0FBT3pDLEVBQVUwQyxVQUFNLE9BQVEsR0FBUSxZQUNuQyxJQUNJLE1BQU9DLFNBQWF2QixPQUFPd0IsS0FBS0MsTUFBTSxDQUFFQyxRQUFRLEVBQU1DLGVBQWUsSUFDckUsR0FBSUosRUFDQSxhQUFhdkIsT0FBT3dCLEtBQUtJLGtCQUFrQkwsRUFBSU0sU0FBVSxDQUFFQyxPQUFRLE9BQVFDLFFBQVMsSUFFNUYsQ0FDQSxNQUFPQyxHQUNIeEIsUUFBUXdCLE1BQU0sOEJBQStCQSxFQUNqRCxDQUNBLE9BQU8sSUFDWCxHQUNKLENBbEdnREMsR0FDaEMsR0FBSVosRUFBbUIsQ0FFbkIsR0FEQXRCLEVBQVlhLEtBQUssQ0FBQ1MsRUFBbUJqQixFQUFROEIsZUFDekNuQyxFQUFZYyxPQXJCWixHQXFCc0MsQ0FDdEMsSUFBSW5CLFFBQWVNLE9BQU9jLFFBQVFDLE1BQU1DLElBQUksQ0FBRWpCLFlBQWEsS0FDM0RMLEVBQVNBLEVBQU9LLGFBQWUsR0FDL0IsTUFBTW9DLEVBQW1CekMsRUFBT3dCLE9BQU9uQixHQUN2Q0EsRUFBWWMsT0FBUyxRQUNmYixPQUFPYyxRQUFRQyxNQUFNSSxJQUFJLENBQUVwQixZQUFhb0MsR0FDbEQsQ0FDQTdCLEVBQWEsQ0FBRWMsU0FBUyxHQUM1QixNQUVJZCxFQUFhLENBQUVjLFNBQVMsRUFBT2hCLFFBQVMsZ0NBRWhELENBRUEsR0FBdUIsaUJBQW5CQSxFQUFRRyxPQUEyQixDQUNuQyxNQUFNNkIsR0FBWSxJQUFJQyxNQUFPQyxjQUFjQyxRQUFRLFFBQVMsS0FDdERDLEVBQWEsZ0JBQWdCSixJQUVuQ3BDLE9BQU95QyxVQUFVQyxTQUFTLENBQ3RCQyxJQUFLLGlDQUFtQ0MsbUJBQW1CLCtCQUErQlIsS0FDMUZTLFNBQVUsR0FBR0wscUJBQ2JNLFFBQVEsSUFDUkMsR0FBZW5FLE9BQVUsT0FBUSxPQUFRLEdBQVEsWUFHakQsSUFBSW9FLFNBRG9CaEQsT0FBT2MsUUFBUUMsTUFBTUMsSUFBSSxDQUFFZ0MsY0FBZSxNQUNwQ0EsZUFBaUIsQ0FBQyxFQUNoRGhELE9BQU9jLFFBQVFDLE1BQU1rQyxPQUFPLGlCQUM1QnpDLFFBQVFDLElBQUl1QyxHQUNaLE1BQU1FLFFBQWdCbEQsT0FBT2MsUUFBUUMsTUFBTUMsSUFBSSxDQUFFbEIsYUFBYyxLQUMvREUsT0FBT2MsUUFBUUMsTUFBTWtDLE9BQU8sZ0JBQzVCLElBQUloQyxFQUFvQmlDLEVBQVFwRCxjQUFnQixHQUNoRFUsUUFBUUMsSUFBSVEsR0FDWkEsRUFBb0JBLEVBQWtCQyxPQUFPcEIsR0FDN0NBLEVBQWFlLE9BQVMsRUFFdEIsSUFBSXNDLFNBRHVCbkQsT0FBT2MsUUFBUUMsTUFBTUMsSUFBSSxDQUFFb0MsYUFBYyxNQUMvQkEsY0FBZ0IsR0FDckRwRCxPQUFPYyxRQUFRQyxNQUFNa0MsT0FBTyxnQkFDNUIsTUFBTUksRUFBVyxDQUNiTCxjQUFlQSxFQUNmbEQsYUFBY21CLEVBQ2RtQyxhQUFjRCxHQUVaRyxFQUFtQkMsS0FBS0MsVUFBVUgsRUFBVSxLQUFNLEdBQ3hEckQsT0FBT3lDLFVBQVVDLFNBQVMsQ0FDdEJDLElBQUssZ0NBQWtDQyxtQkFBbUJVLEdBQzFEVCxTQUFVLEdBQUdMLHNCQUNiTSxRQUFRLElBRVosTUFBTVcsUUFBZ0J6RCxPQUFPYyxRQUFRQyxNQUFNQyxJQUFJLENBQUVqQixZQUFhLEtBQzlEQyxPQUFPYyxRQUFRQyxNQUFNa0MsT0FBTyxlQUM1QixJQUFJZCxFQUFtQnNCLEVBQVExRCxhQUFlLEdBQzlDb0MsRUFBbUJBLEVBQWlCakIsT0FBT25CLEdBQzNDUyxRQUFRQyxJQUFJMEIsR0FDWnBDLEVBQVljLE9BQVMsRUFFckJzQixFQUFpQnVCLFNBQVEsQ0FBQ0MsRUFBWUMsS0FDbENwRCxRQUFRQyxJQUFJa0QsR0FDWixNQUFNZCxFQUFXLEdBQUdMLEtBQWNtQixFQUFXLEdBQUdwQixRQUFRLFFBQVMsV0FDakV2QyxPQUFPeUMsVUFBVUMsU0FBUyxDQUN0QkMsSUFBS2dCLEVBQVcsR0FDaEJkLFNBQVVBLEVBQ1ZDLFFBQVEsR0FDVixJQUVOeEMsRUFBYSxDQUFFYyxTQUFTLElBQ3hCcEIsT0FBT2MsUUFBUUMsTUFBTThDLE9BQ3pCLEtBQ0osQ0FDdUIsZUFBbkJ6RCxFQUFRRyxTQUNSUCxPQUFPYyxRQUFRQyxNQUFNOEMsUUFDckJ2RCxFQUFhLENBQUVjLFNBQVMsSUFFaEMsQ0FDQSxNQUFPWSxHQUNIaEMsT0FBT2MsUUFBUUMsTUFBTThDLFFBQ3JCckQsUUFBUXdCLE1BQU0sMEJBQTJCQSxHQUN6QzFCLEVBQWEsQ0FBRWMsU0FBUyxFQUFPWSxNQUFPQSxFQUFNNUIsU0FDaEQsQ0FDSixLQUNPLEtBMkdYSixPQUFPQyxRQUFRQyxVQUFVQyxhQUFZLENBQUNDLEVBQVNDLEVBQVFDLEtBQ25ELElBQUl3RCxFQUNKLEdBQXVCLGNBQW5CMUQsRUFBUUcsU0FBaUQsUUFBckJ1RCxFQUFLekQsRUFBT2tCLFdBQXdCLElBQVB1QyxPQUFnQixFQUFTQSxFQUFHQyxJQVE3RixPQTNDUixTQUFzQkMsRUFBT3JCLEdBQ3pCLE9BQU8vRCxFQUFVMEMsVUFBTSxPQUFRLEdBQVEsWUFDbkMsTUFDTTJDLEVBRFksSUFBSUMsSUFBSXZCLEdBQ0h3QixTQUN2QixJQUFLLE1BQU1DLEtBQVV6RixFQUFTLENBQzFCLE1BQU0wRixFQUFjRCxFQUFPRSxjQUFnQixPQUMzQyxHQUFvQixTQUFoQkQsRUFDQSxJQUVJLE9BQVMzRSxPQUFRNkUsVUFBb0J2RSxPQUFPd0UsVUFBVUMsY0FBYyxDQUNoRUMsT0FBUSxDQUFFVixTQUNWVyxLQUFNLENBQUNDLEVBQVVDLEtBQ2IsSUFBSWYsRUFBSWdCLEVBQ1IsTUFBTUMsRUFBVUMsU0FBU0MsY0FBY0wsR0FDdkMsT0FBT0csS0FBYUYsR0FBNEksUUFBN0hDLEVBQW9DLFFBQTlCaEIsRUFBS2lCLEVBQVFHLG1CQUFnQyxJQUFQcEIsT0FBZ0IsRUFBU0EsRUFBR3FCLGNBQWNDLFNBQVNQLEVBQVVNLHNCQUFtQyxJQUFQTCxHQUFnQkEsRUFBWSxFQUV4TU8sS0FBTSxDQUFDakIsRUFBT2tCLE1BQU9sQixFQUFPbUIsWUFBYyxNQUU5QyxHQUFJaEIsRUFDQSxPQUFPSCxDQUVmLENBQ0EsTUFBT3BDLEdBQ0h4QixRQUFRd0IsTUFBTSw2QkFBOEJBLEVBQ2hELE1BRUMsR0FBb0IsUUFBaEJxQyxHQUF5QkQsRUFBT2tCLFFBQVVyQixFQUMvQyxPQUFPRyxDQUVmLENBQ0EsTUFBTSxJQUFJb0IsTUFBTSxzQ0FBc0N2QixJQUMxRCxHQUNKLENBSVF3QixDQUFhcEYsRUFBT2tCLElBQUl3QyxHQUFJM0QsRUFBUXVDLEtBQy9CL0MsTUFBTXdFLElBQ1A5RCxFQUFhLENBQUU4RCxPQUFRQSxHQUFTLElBRS9Cc0IsT0FBTzFELElBQ1IxQixFQUFhLENBQUUwQixNQUFPQSxFQUFNNUIsU0FBVSxLQUVuQyxDQUNYLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaHJvbWUtZXh0ZW5zaW9uLXR5cGVzY3JpcHQtc3RhcnRlci8uL3NyYy9yZWNpcGUudHMiLCJ3ZWJwYWNrOi8vY2hyb21lLWV4dGVuc2lvbi10eXBlc2NyaXB0LXN0YXJ0ZXIvLi9zcmMvYmFja2dyb3VuZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgbmF2ID0ge1xuICAgIFwic2VsZWN0b3JcIjogXCIjbmF2LXNlYXJjaC1iYXItZm9ybVwiLFxuICAgIFwiY2hpbGRyZW5cIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiaW5wdXQjdHdvdGFic2VhcmNodGV4dGJveFwiLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwic2VhcmNoX2lucHV0XCIsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCIjbmF2LXNlYXJjaC1zdWJtaXQtYnV0dG9uXCIsXG4gICAgICAgICAgICBcImNsaWNrYWJsZVwiOiB0cnVlLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwic2VhcmNoX2J1dHRvblwiLFxuICAgICAgICB9LFxuICAgIF0sXG59O1xuZXhwb3J0IGNvbnN0IHJlZmluZW1lbnRfb3B0aW9uID0gW1xuICAgIHtcbiAgICAgICAgXCJzZWxlY3RvclwiOiBcInNwYW4uYS1zaXplLWJhc2UuYS1jb2xvci1iYXNlLnB1aXMtYm9sZC13ZWlnaHQtdGV4dFwiLFxuICAgICAgICBcImFkZF90ZXh0XCI6IHRydWUsXG4gICAgICAgIFwiY2xhc3NcIjogXCJyZWZpbmVtZW50LXRpdGxlXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIFwic2VsZWN0b3JcIjogXCJ1bDpudGgtb2YtdHlwZSgxKSA+IHNwYW4uYS1kZWNsYXJhdGl2ZSA+IHNwYW4gPiBsaVwiLFxuICAgICAgICBcImFkZF90ZXh0XCI6IHRydWUsXG4gICAgICAgIFwibmFtZVwiOiBcImZyb21fdGV4dFwiLFxuICAgICAgICBcImNsaWNrYWJsZVwiOiB0cnVlLFxuICAgICAgICBcImNsaWNrX3NlbGVjdG9yXCI6IFwiYVwiLFxuICAgICAgICBcImRpcmVjdF9jaGlsZFwiOiB0cnVlLFxuICAgICAgICBcImNoaWxkcmVuXCI6IFt7IFwic2VsZWN0b3JcIjogXCJpbnB1dFt0eXBlPSdjaGVja2JveCddXCIgfV0sXG4gICAgfSxcbl07XG5leHBvcnQgY29uc3QgcmVjaXBlcyA9IFtcbiAgICB7XG4gICAgICAgIFwibWF0Y2hcIjogXCIvXCIsXG4gICAgICAgIFwibWF0Y2hfbWV0aG9kXCI6IFwidXJsXCIsXG4gICAgICAgIFwic2VsZWN0b3JcIjogXCJodG1sXCIsXG4gICAgICAgIFwiY2hpbGRyZW5cIjogW1xuICAgICAgICAgICAgeyBcInNlbGVjdG9yXCI6IFwiaGVhZFwiLCBcImNoaWxkcmVuXCI6IFt7IFwic2VsZWN0b3JcIjogXCJ0aXRsZVwiLCBcImFkZF90ZXh0XCI6IHRydWUgfV0gfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiYm9keVwiLFxuICAgICAgICAgICAgICAgIFwiY2hpbGRyZW5cIjogW25hdl0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgICBcIm1hdGNoXCI6IFwiL3NcIixcbiAgICAgICAgXCJtYXRjaF9tZXRob2RcIjogXCJ1cmxcIixcbiAgICAgICAgXCJzZWxlY3RvclwiOiBcImh0bWxcIixcbiAgICAgICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICAgICAgICB7IFwic2VsZWN0b3JcIjogXCJoZWFkXCIsIFwiY2hpbGRyZW5cIjogW3sgXCJzZWxlY3RvclwiOiBcInRpdGxlXCIsIFwiYWRkX3RleHRcIjogdHJ1ZSB9XSB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCJib2R5XCIsXG4gICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICAgICAgICAgICAgICAgIG5hdixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcIiNzLXJlZmluZW1lbnRzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJyZWZpbmVtZW50c1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiZGl2LmEtc2VjdGlvbi5hLXNwYWNpbmctbm9uZTpub3QoOmhhcygjbi10aXRsZSkpOmhhcyhzcGFuLmEtc2l6ZS1iYXNlLmEtY29sb3ItYmFzZS5wdWlzLWJvbGQtd2VpZ2h0LXRleHQpOmhhcyh1bCBzcGFuLmEtZGVjbGFyYXRpdmUgPiBzcGFuID4gbGkpOm5vdCgjcmV2aWV3c1JlZmluZW1lbnRzKTpub3QoI2RlcGFydG1lbnRzKTpub3QoI3ByaWNlUmVmaW5lbWVudHMpOm5vdCgjZmlsdGVycylcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZnJvbV90ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dF9zZWxlY3RvclwiOiBcInNwYW4uYS1zaXplLWJhc2UuYS1jb2xvci1iYXNlLnB1aXMtYm9sZC13ZWlnaHQtdGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCI6IHJlZmluZW1lbnRfb3B0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiI2RlcGFydG1lbnRzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImRlcGFydG1lbnRzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hpbGRyZW5cIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCJsaSBhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRfdGV4dFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImZyb21fdGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xpY2thYmxlXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCIjcmV2aWV3c1JlZmluZW1lbnRzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInJldmlld3NfcmVmaW5lbWVudHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcImxpIGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFkZF90ZXh0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZnJvbV90ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGlja2FibGVcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcImRpdi5zLW1haW4tc2xvdC5zLXJlc3VsdC1saXN0LnMtc2VhcmNoLXJlc3VsdHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNlYXJjaF9yZXN1bHRzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW5zZXJ0X3NwbGl0X21hcmtlclwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImluc2VydF9zcGxpdF9tYXJrZXJfZXZlcnlcIjogNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiAnZGl2W2RhdGEtY29tcG9uZW50LXR5cGU9XCJzLXNlYXJjaC1yZXN1bHRcIl0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRfc2VsZWN0b3JcIjogXCJzcGFuLmEtc2l6ZS1iYXNlLXBsdXMuYS1jb2xvci1iYXNlLmEtdGV4dC1ub3JtYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZnJvbV90ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJzZWFyY2gtcmVzdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hpbGRyZW5cIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCJkaXZbZGF0YS1jeT0ndGl0bGUtcmVjaXBlJ10gYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwicHJvZHVjdC1uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGlja2FibGVcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ2aWV3X3Byb2R1Y3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcImRpdltkYXRhLWN5PSdyZXZpZXdzLWJsb2NrJ11cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwicHJvZHVjdC1yZXZpZXdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcInNwYW4uYS1pY29uLWFsdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRfdGV4dFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcInByb2R1Y3QtcmF0aW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCJzcGFuLmEtc2l6ZS1iYXNlLnMtdW5kZXJsaW5lLXRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dF9mb3JtYXRcIjogXCJ7fSByZXZpZXdzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwicHJvZHVjdC1yYXRpbmctY291bnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiZGl2W2RhdGEtY3k9J3ByaWNlLXJlY2lwZSddXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcInByb2R1Y3QtcHJpY2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcImEuYS1saW5rLW5vcm1hbCA+IHNwYW4uYS1wcmljZSA+IHNwYW4uYS1vZmZzY3JlZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiZGl2W2RhdGEtY3k9J2RlbGl2ZXJ5LXJlY2lwZSddXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRfdGV4dFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJwcm9kdWN0LWRlbGl2ZXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCJzcGFuLnMtcGFnaW5hdGlvbi1zdHJpcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwicGFnaW5hdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiLnMtcGFnaW5hdGlvbi1pdGVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZnJvbV90ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xpY2thYmxlXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgXCJtYXRjaFwiOiBcIiNwcm9kdWN0VGl0bGVcIixcbiAgICAgICAgXCJtYXRjaF90ZXh0XCI6IFwiXCIsXG4gICAgICAgIFwic2VsZWN0b3JcIjogXCJodG1sXCIsXG4gICAgICAgIFwidGVybWluYXRlXCI6IFwicmV0dXJuICEhYXJndW1lbnRzWzBdXCIsXG4gICAgICAgIFwidGVybWluYXRlX2NhbGxiYWNrXCI6IFwicmV0dXJuIGFyZ3VtZW50c1swXVwiLFxuICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgIHsgXCJzZWxlY3RvclwiOiBcImhlYWRcIiwgXCJjaGlsZHJlblwiOiBbeyBcInNlbGVjdG9yXCI6IFwidGl0bGVcIiwgXCJhZGRfdGV4dFwiOiB0cnVlIH1dIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcImJvZHlcIixcbiAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgbmF2LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiI2NlbnRlckNvbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcInByb2R1Y3QtY2FyZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiI3RpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJrZWVwX2F0dHJcIjogW1wiaWRcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCIjYXZlcmFnZUN1c3RvbWVyUmV2aWV3c1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwicmV2aWV3XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hpbGRyZW5cIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCJzcGFuLmEtaWNvbi1hbHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFkZF90ZXh0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCIjYWNyQ3VzdG9tZXJSZXZpZXdUZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRfdGV4dFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcIiNhcGV4X2Rlc2t0b3BfbmV3QWNjb3JkaW9uUm93ICNjb3JlUHJpY2VEaXNwbGF5X2Rlc2t0b3BfZmVhdHVyZV9kaXYgc3Bhbi5hLXByaWNlLmFvay1hbGlnbi1jZW50ZXIucmVpbnZlbnRQcmljZVByaWNlVG9QYXlNYXJnaW4ucHJpY2VUb1BheVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFkZF90ZXh0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dF9mb3JtYXRcIjogXCJQcmljZToge31cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcInByb2R1Y3QtcHJpY2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcIiN0d2lzdGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJwcm9kdWN0LW9wdGlvbnNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcImRpdi5hLXJvdzpoYXMobGFiZWwuYS1mb3JtLWxhYmVsKTpoYXMoc3Bhbi5zZWxlY3Rpb24pXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCJsYWJlbC5hLWZvcm0tbGFiZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcInNwYW4uc2VsZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFkZF90ZXh0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcIiNhZGRUb0NhcnQ6aGFzKCNidXktbm93LWJ1dHRvbilcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImFkZF90b19jYXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCIjcHJvZHVjdEZhY3RzRGVza3RvcEV4cGFuZGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcInByb2R1Y3QtZmFjdHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcImRpdi5taXItbGF5b3V0LURFTElWRVJZX0JMT0NLLXNsb3QtUFJJTUFSWV9ERUxJVkVSWV9NRVNTQUdFX0xBUkdFXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcInByb2R1Y3QtZGVsaXZlcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcIiNidXktbm93LWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFkZF90ZXh0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xpY2thYmxlXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImJ1eV9ub3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcInByb2R1Y3QtYnV5LW5vd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJlZm9yZV9ob29rXCI6IGBcbmNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aXRsZVwiKS5pbm5lclRleHRcbmNvbnN0IHByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInNwYW4uYS1wcmljZS5hb2stYWxpZ24tY2VudGVyLnJlaW52ZW50UHJpY2VQcmljZVRvUGF5TWFyZ2luLnByaWNlVG9QYXlcIikuaW5uZXJUZXh0XG5jb25zdCBvcHRpb25zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3R3aXN0ZXIgZGl2LmEtcm93OmhhcyhsYWJlbC5hLWZvcm0tbGFiZWwpOmhhcyhzcGFuLnNlbGVjdGlvbilcIikpLm1hcChhID0+ICh7bGFiZWw6IGEucXVlcnlTZWxlY3RvcihcImxhYmVsLmEtZm9ybS1sYWJlbFwiKS5pbm5lclRleHQsIHZhbHVlOiBhLnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLnNlbGVjdGlvblwiKS5pbm5lclRleHR9KSlcbmNvbnN0IG9wdGlvbnNfZGljdCA9IHt9XG5mb3IgKGNvbnN0IG9wdGlvbiBvZiBvcHRpb25zKSB7XG4gICAgb3B0aW9uc19kaWN0W29wdGlvbltcImxhYmVsXCJdLnJlcGxhY2UoXCI6IFwiLCBcIlwiKV0gPSBvcHRpb25bXCJ2YWx1ZVwiXVxufVxuY29uc3QgYXNpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dCNBU0lOXCIpLnZhbHVlXG5jb25zb2xlLmxvZyh7dGl0bGUsIHByaWNlLCBvcHRpb25zOiBvcHRpb25zX2RpY3QsIGFzaW59KVxucmV0dXJuIHt0aXRsZSwgcHJpY2UsIG9wdGlvbnM6IG9wdGlvbnNfZGljdCwgYXNpbn1cbmAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIFwibWF0Y2hcIjogXCIvYXAvc2lnbmluXCIsXG4gICAgICAgIFwibWF0Y2hfbWV0aG9kXCI6IFwidXJsXCIsXG4gICAgICAgIFwidGVybWluYXRlXCI6IFwicmV0dXJuICEhYXJndW1lbnRzWzBdXCIsXG4gICAgICAgIFwidGVybWluYXRlX2NhbGxiYWNrXCI6IFwicmV0dXJuIGFyZ3VtZW50c1swXVwiLFxuICAgICAgICBcInNlbGVjdG9yXCI6IFwiaHRtbFwiLFxuICAgIH0sXG5dO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyByZWNpcGVzIH0gZnJvbSAnLi9yZWNpcGUnO1xubGV0IGludGVyYWN0aW9ucyA9IFtdO1xuY29uc3QgaW50ZXJhY3Rpb25zTGltaXQgPSAxMDtcbmxldCBzY3JlZW5zaG90cyA9IFtdO1xuY29uc3Qgc2NyZWVuc2hvdExpbWl0ID0gMTA7XG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKG1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XG4gICAgKCgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYWN0aW9uID09PSAnc2F2ZURhdGEnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NhdmVEYXRhICcsIG1lc3NhZ2UuZGF0YS5ldmVudFR5cGUpO1xuICAgICAgICAgICAgICAgIGludGVyYWN0aW9ucy5wdXNoKG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9ucy5sZW5ndGggPiBpbnRlcmFjdGlvbnNMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0geWllbGQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KHsgaW50ZXJhY3Rpb25zOiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmludGVyYWN0aW9ucyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0b3JlSW50ZXJhY3Rpb25zID0gcmVzdWx0LmNvbmNhdChpbnRlcmFjdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgaW50ZXJhY3Rpb25zOiBzdG9yZUludGVyYWN0aW9ucyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENhcHR1cmUgc2NyZWVuc2hvdCBvbiBkZW1hbmRcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbiA9PT0gJ2NhcHR1cmVTY3JlZW5zaG90Jykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmVlbnNob3REYXRhVXJsID0geWllbGQgY2FwdHVyZVNjcmVlbnNob3QoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2NyZWVuc2hvdERhdGFVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuc2hvdHMucHVzaChbc2NyZWVuc2hvdERhdGFVcmwsIG1lc3NhZ2Uuc2NyZWVuc2hvdElkXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY3JlZW5zaG90cy5sZW5ndGggPiBzY3JlZW5zaG90TGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB5aWVsZCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoeyBzY3JlZW5zaG90czogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2NyZWVuc2hvdHMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZVNjcmVlbnNob3RzID0gcmVzdWx0LmNvbmNhdChzY3JlZW5zaG90cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JlZW5zaG90cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgc2NyZWVuc2hvdHM6IHN0b3JlU2NyZWVuc2hvdHMgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnRmFpbGVkIHRvIGNhcHR1cmUgc2NyZWVuc2hvdCcgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG93bmxvYWQgZGF0YSBvbiB1c2VyIHJlcXVlc3RcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbiA9PT0gJ2Rvd25sb2FkRGF0YScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzouXS9nLCAnLScpOyAvLyBDcmVhdGUgYSB0aW1lc3RhbXAgZm9yIHRoZSBmb2xkZXIgbmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IGZvbGRlck5hbWUgPSBgREFUQS9TRVNTSU9OXyR7dGltZXN0YW1wfWA7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgZm9sZGVyIHdpdGggdGhlIHRpbWVzdGFtcCBhbmQgZG93bmxvYWQgc2Vzc2lvbiBpbmZvXG4gICAgICAgICAgICAgICAgY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJ2RhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCcgKyBlbmNvZGVVUklDb21wb25lbnQoYFNlc3Npb24gZGF0YSBmb3IgdGltZXN0YW1wOiAke3RpbWVzdGFtcH1gKSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGAke2ZvbGRlck5hbWV9L3Nlc3Npb25faW5mby50eHRgLFxuICAgICAgICAgICAgICAgICAgICBzYXZlQXM6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSwgKGRvd25sb2FkSWQpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIGFsbCBpbnRlcmFjdGlvbnMgaW4gYSBzaW5nbGUgSlNPTiBmaWxlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90cyA9IHlpZWxkIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldCh7IGh0bWxTbmFwc2hvdHM6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaHRtbFNuYXBzaG90cyA9IHNuYXBzaG90cy5odG1sU25hcHNob3RzIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5yZW1vdmUoJ2h0bWxTbmFwc2hvdHMnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaHRtbFNuYXBzaG90cyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdDEgPSB5aWVsZCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoeyBpbnRlcmFjdGlvbnM6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5yZW1vdmUoJ2ludGVyYWN0aW9ucycpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RvcmVJbnRlcmFjdGlvbnMgPSByZXN1bHQxLmludGVyYWN0aW9ucyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RvcmVJbnRlcmFjdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBzdG9yZUludGVyYWN0aW9ucyA9IHN0b3JlSW50ZXJhY3Rpb25zLmNvbmNhdChpbnRlcmFjdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JkZXJEZXRhaWxzID0geWllbGQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KHsgb3JkZXJEZXRhaWxzOiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0b3Jlb3JkZXJEZXRhaWxzID0gb3JkZXJEZXRhaWxzLm9yZGVyRGV0YWlscyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwucmVtb3ZlKCdvcmRlckRldGFpbHMnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnVsbERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sU25hcHNob3RzOiBodG1sU25hcHNob3RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25zOiBzdG9yZUludGVyYWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyRGV0YWlsczogc3RvcmVvcmRlckRldGFpbHMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uc0RhdGEgPSBKU09OLnN0cmluZ2lmeShmdWxsRGF0YSwgbnVsbCwgMik7XG4gICAgICAgICAgICAgICAgICAgIGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnZGF0YTp0ZXh0L2pzb247Y2hhcnNldD11dGYtOCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KGludGVyYWN0aW9uc0RhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGAke2ZvbGRlck5hbWV9L2ludGVyYWN0aW9ucy5qc29uYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVBczogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdDIgPSB5aWVsZCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoeyBzY3JlZW5zaG90czogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLnJlbW92ZSgnc2NyZWVuc2hvdHMnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0b3JlU2NyZWVuc2hvdHMgPSByZXN1bHQyLnNjcmVlbnNob3RzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBzdG9yZVNjcmVlbnNob3RzID0gc3RvcmVTY3JlZW5zaG90cy5jb25jYXQoc2NyZWVuc2hvdHMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdG9yZVNjcmVlbnNob3RzKTtcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuc2hvdHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSBhbGwgc2NyZWVuc2hvdHMgYXMgaW5kaXZpZHVhbCBQTkcgZmlsZXNcbiAgICAgICAgICAgICAgICAgICAgc3RvcmVTY3JlZW5zaG90cy5mb3JFYWNoKChzY3JlZW5zaG90LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2NyZWVuc2hvdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGAke2ZvbGRlck5hbWV9LyR7c2NyZWVuc2hvdFsxXS5yZXBsYWNlKC9bOi5dL2csIFwiLVwiKX0uanBnYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc2NyZWVuc2hvdFswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTogZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUFzOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzZW5kUmVzcG9uc2UoeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5jbGVhcigpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbiA9PT0gJ2NsZWFyQ2FjaGUnKSB7XG4gICAgICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICBzZW5kUmVzcG9uc2UoeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuY2xlYXIoKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhbmRsaW5nIG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgICAgICB9XG4gICAgfSkpKCk7XG4gICAgcmV0dXJuIHRydWU7IC8vIEtlZXBzIHRoZSBtZXNzYWdlIGNoYW5uZWwgb3BlbiBmb3IgYXN5bmMgcmVzcG9uc2VzXG59KTtcbi8vIENhcHR1cmUgdGhlIHNjcmVlbnNob3QgaW4gdGhlIGN1cnJlbnQgdGFiXG5mdW5jdGlvbiBjYXB0dXJlU2NyZWVuc2hvdCgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgW3RhYl0gPSB5aWVsZCBjaHJvbWUudGFicy5xdWVyeSh7IGFjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGlmICh0YWIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQgY2hyb21lLnRhYnMuY2FwdHVyZVZpc2libGVUYWIodGFiLndpbmRvd0lkLCB7IGZvcm1hdDogJ2pwZWcnLCBxdWFsaXR5OiA1MCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhcHR1cmluZyBzY3JlZW5zaG90OicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhhc2hDb2RlKHN0cikge1xuICAgIGxldCBoYXNoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaGFzaCB8PSAwO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIkhhc2ggdmFsdWUgYmVmb3JlIHJldHVybjpcIiwgaGFzaCk7XG4gICAgcmV0dXJuIGhhc2gudG9TdHJpbmcoKTtcbn1cbi8vIGxpc3RlbiB0byBzd2l0Y2hlcyBiZXR3ZWVuIGFjdGl2YXRlZCB0YWJzXG4vLyBjaHJvbWUudGFicy5vbkFjdGl2YXRlZC5hZGRMaXN0ZW5lcihhc3luYyAoYWN0aXZlSW5mbykgPT4ge1xuLy8gICAgIGNvbnN0IHRhYiA9IGF3YWl0IGNocm9tZS50YWJzLmdldChhY3RpdmVJbmZvLnRhYklkKTtcbi8vICAgICBjb25zb2xlLmxvZyhgU3dpdGNoZWQgdG8gdGFiICR7YWN0aXZlSW5mby50YWJJZH0gd2l0aCBVUkw6ICR7dGFiLnVybH1gKTtcbi8vICAgICBpZiAodGFiLnVybCAmJiB0YWIudXJsLmluY2x1ZGVzKCdhbWF6b24uY29tJykpIHtcbi8vICAgICAgICAgdHJ5IHtcbi8vICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbi8vICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTbmFwc2hvdElkID0gYGh0bWxfJHtoYXNoQ29kZSh0YWIudXJsKX1fJHt0aW1lc3RhbXB9YDtcbi8vICAgICAgICAgICAgIC8vIEV4ZWN1dGUgc2NyaXB0IGluIHRoZSB0YXJnZXQgdGFiIHRvIGdldCBIVE1MIGNvbnRlbnRcbi8vICAgICAgICAgICAgIGNvbnN0IFt7IHJlc3VsdDogaHRtbENvbnRlbnQgfV0gPSBhd2FpdCBjaHJvbWUuc2NyaXB0aW5nLmV4ZWN1dGVTY3JpcHQoe1xuLy8gICAgICAgICAgICAgICAgIHRhcmdldDogeyB0YWJJZDogYWN0aXZlSW5mby50YWJJZCB9LFxuLy8gICAgICAgICAgICAgICAgIGZ1bmM6ICgpID0+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUxcbi8vICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldCh7aHRtbFNuYXBzaG90czp7fX0pXG4vLyAgICAgICAgICAgICBjb25zdCBodG1sU25hcHNob3RzID0gcmVzdWx0Lmh0bWxTbmFwc2hvdHMgfHwge307XG4vLyAgICAgICAgICAgICBodG1sU25hcHNob3RzW2N1cnJlbnRTbmFwc2hvdElkXSA9IGh0bWxDb250ZW50O1xuLy8gICAgICAgICAgICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgaHRtbFNuYXBzaG90cyB9KTtcbi8vICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7XG4vLyAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBcIm5hdmlnYXRlXCIsXG4vLyAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4vLyAgICAgICAgICAgICAgICAgdGFyZ2V0X3VybDogdGFiLnVybCxcbi8vICAgICAgICAgICAgICAgICBodG1sU25hcHNob3RJZDogY3VycmVudFNuYXBzaG90SWQsXG4vLyAgICAgICAgICAgICB9O1xuLy8gICAgICAgICAgICAgaW50ZXJhY3Rpb25zLnB1c2goZGF0YSk7XG4vLyAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25zLmxlbmd0aCA+IGludGVyYWN0aW9uc0xpbWl0KSB7XG4vLyAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoe2ludGVyYWN0aW9uczpbXX0pO1xuLy8gICAgICAgICAgICAgICByZXN1bHQ9cmVzdWx0LmludGVyYWN0aW9uc3x8W11cbi8vICAgICAgICAgICAgICAgbGV0IHN0b3JlSW50ZXJhY3Rpb25zID0gcmVzdWx0LmNvbmNhdChpbnRlcmFjdGlvbnMpO1xuLy8gICAgICAgICAgICAgICBpbnRlcmFjdGlvbnMubGVuZ3RoPTBcbi8vICAgICAgICAgICAgICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgaW50ZXJhY3Rpb25zOnN0b3JlSW50ZXJhY3Rpb25zIH0pfTtcbi8vICAgICAgICAgICAgIC8vIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDApKTtcbi8vICAgICAgICAgICAgIGNvbnN0IHNjcmVlbnNob3REYXRhVXJsID0gYXdhaXQgY2hyb21lLnRhYnMuY2FwdHVyZVZpc2libGVUYWIodGFiLndpbmRvd0lkLCB7IGZvcm1hdDogJ2pwZWcnLCBxdWFsaXR5OiA1MCB9KTtcbi8vICAgICAgICAgICAgIGNvbnN0IHNjcmVlbnNob3RJZCA9IGBzY3JlZW5zaG90XyR7dGltZXN0YW1wfWA7XG4vLyAgICAgICAgICAgICBpZiAoc2NyZWVuc2hvdERhdGFVcmwpIHtcbi8vICAgICAgICAgICAgICAgICBzY3JlZW5zaG90cy5wdXNoKFtzY3JlZW5zaG90RGF0YVVybCwgc2NyZWVuc2hvdElkXSk7XG4vLyAgICAgICAgICAgICAgICAgaWYgKHNjcmVlbnNob3RzLmxlbmd0aCA+IHNjcmVlbnNob3RMaW1pdCkge1xuLy8gICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KHsgc2NyZWVuc2hvdHM6IFtdIH0pXG4vLyAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zY3JlZW5zaG90cyB8fCBbXVxuLy8gICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZVNjcmVlbnNob3RzID0gcmVzdWx0LmNvbmNhdChzY3JlZW5zaG90cyk7XG4vLyAgICAgICAgICAgICAgICAgICAgIHNjcmVlbnNob3RzLmxlbmd0aCA9IDBcbi8vICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgc2NyZWVuc2hvdHM6IHN0b3JlU2NyZWVuc2hvdHMgfSk7XG4vLyAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuLy8gICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gdGFiIGFjdGl2YXRlIGhhbmRsZXI6JywgZXJyb3IpO1xuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gfSk7XG5mdW5jdGlvbiBzZWxlY3RSZWNpcGUodGFiSWQsIHVybCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFVybCA9IG5ldyBVUkwodXJsKTtcbiAgICAgICAgY29uc3QgcGF0aCA9IHBhcnNlZFVybC5wYXRobmFtZTtcbiAgICAgICAgZm9yIChjb25zdCByZWNpcGUgb2YgcmVjaXBlcykge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hNZXRob2QgPSByZWNpcGUubWF0Y2hfbWV0aG9kIHx8IFwidGV4dFwiO1xuICAgICAgICAgICAgaWYgKG1hdGNoTWV0aG9kID09PSBcInRleHRcIikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgc2NyaXB0IGluIHRhYiB0byBjaGVjayBmb3IgbWF0Y2hpbmcgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBbeyByZXN1bHQ6IGhhc01hdGNoIH1dID0geWllbGQgY2hyb21lLnNjcmlwdGluZy5leGVjdXRlU2NyaXB0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogeyB0YWJJZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYzogKHNlbGVjdG9yLCBtYXRjaFRleHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudCAmJiAoIW1hdGNoVGV4dCB8fCAoKF9iID0gKF9hID0gZWxlbWVudC50ZXh0Q29udGVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobWF0Y2hUZXh0LnRvTG93ZXJDYXNlKCkpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtyZWNpcGUubWF0Y2gsIHJlY2lwZS5tYXRjaF90ZXh0IHx8IFwiXCJdXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWNpcGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjaGVja2luZyB0ZXh0IG1hdGNoOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2hNZXRob2QgPT09IFwidXJsXCIgJiYgcmVjaXBlLm1hdGNoID09PSBwYXRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY2lwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIG1hdGNoaW5nIHJlY2lwZSBmb3VuZCBmb3IgcGF0aDogJHtwYXRofWApO1xuICAgIH0pO1xufVxuY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChtZXNzYWdlLCBzZW5kZXIsIHNlbmRSZXNwb25zZSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAobWVzc2FnZS5hY3Rpb24gPT09ICdnZXRSZWNpcGUnICYmICgoX2EgPSBzZW5kZXIudGFiKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWQpKSB7XG4gICAgICAgIHNlbGVjdFJlY2lwZShzZW5kZXIudGFiLmlkLCBtZXNzYWdlLnVybClcbiAgICAgICAgICAgIC50aGVuKChyZWNpcGUpID0+IHtcbiAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7IHJlY2lwZTogcmVjaXBlIH0pO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gSW5kaWNhdGUgdGhhdCBzZW5kUmVzcG9uc2Ugd2lsbCBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHlcbiAgICB9XG59KTtcbiJdLCJuYW1lcyI6WyJuYXYiLCJyZWNpcGVzIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsImludGVyYWN0aW9ucyIsInNjcmVlbnNob3RzIiwiY2hyb21lIiwicnVudGltZSIsIm9uTWVzc2FnZSIsImFkZExpc3RlbmVyIiwibWVzc2FnZSIsInNlbmRlciIsInNlbmRSZXNwb25zZSIsImFjdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwiZXZlbnRUeXBlIiwicHVzaCIsImxlbmd0aCIsInN0b3JhZ2UiLCJsb2NhbCIsImdldCIsInN0b3JlSW50ZXJhY3Rpb25zIiwiY29uY2F0Iiwic2V0Iiwic3VjY2VzcyIsInNjcmVlbnNob3REYXRhVXJsIiwidGhpcyIsInRhYiIsInRhYnMiLCJxdWVyeSIsImFjdGl2ZSIsImN1cnJlbnRXaW5kb3ciLCJjYXB0dXJlVmlzaWJsZVRhYiIsIndpbmRvd0lkIiwiZm9ybWF0IiwicXVhbGl0eSIsImVycm9yIiwiY2FwdHVyZVNjcmVlbnNob3QiLCJzY3JlZW5zaG90SWQiLCJzdG9yZVNjcmVlbnNob3RzIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicmVwbGFjZSIsImZvbGRlck5hbWUiLCJkb3dubG9hZHMiLCJkb3dubG9hZCIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsImZpbGVuYW1lIiwic2F2ZUFzIiwiZG93bmxvYWRJZCIsImh0bWxTbmFwc2hvdHMiLCJyZW1vdmUiLCJyZXN1bHQxIiwic3RvcmVvcmRlckRldGFpbHMiLCJvcmRlckRldGFpbHMiLCJmdWxsRGF0YSIsImludGVyYWN0aW9uc0RhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzdWx0MiIsImZvckVhY2giLCJzY3JlZW5zaG90IiwiaW5kZXgiLCJjbGVhciIsIl9hIiwiaWQiLCJ0YWJJZCIsInBhdGgiLCJVUkwiLCJwYXRobmFtZSIsInJlY2lwZSIsIm1hdGNoTWV0aG9kIiwibWF0Y2hfbWV0aG9kIiwiaGFzTWF0Y2giLCJzY3JpcHRpbmciLCJleGVjdXRlU2NyaXB0IiwidGFyZ2V0IiwiZnVuYyIsInNlbGVjdG9yIiwibWF0Y2hUZXh0IiwiX2IiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiYXJncyIsIm1hdGNoIiwibWF0Y2hfdGV4dCIsIkVycm9yIiwic2VsZWN0UmVjaXBlIiwiY2F0Y2giXSwic291cmNlUm9vdCI6IiJ9