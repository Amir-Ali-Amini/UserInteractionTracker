(()=>{"use strict";const e={selector:"#nav-search-bar-form",children:[{selector:"input#twotabsearchtextbox",name:"search_input"},{selector:"#nav-search-submit-button",clickable:!0,name:"search_button"}]},t=[{match:"/",match_method:"url",selector:"html",children:[{selector:"head",children:[{selector:"title",add_text:!0}]},{selector:"body",children:[e]}]},{match:"/s",match_method:"url",selector:"html",children:[{selector:"head",children:[{selector:"title",add_text:!0}]},{selector:"body",children:[e,{selector:"#s-refinements",name:"refinements",children:[{selector:"div.a-section.a-spacing-none:not(:has(#n-title)):has(span.a-size-base.a-color-base.puis-bold-weight-text):has(ul span.a-declarative > span > li):not(#reviewsRefinements):not(#departments):not(#priceRefinements):not(#filters)",name:"from_text",text_selector:"span.a-size-base.a-color-base.puis-bold-weight-text",children:[{selector:"span.a-size-base.a-color-base.puis-bold-weight-text",add_text:!0,class:"refinement-title"},{selector:"ul:nth-of-type(1) > span.a-declarative > span > li",add_text:!0,name:"from_text",clickable:!0,click_selector:"a",direct_child:!0,children:[{selector:"input[type='checkbox']"}]}]},{selector:"#departments",name:"departments",children:[{selector:"li a",add_text:!0,name:"from_text",clickable:!0}]},{selector:"#reviewsRefinements",name:"reviews_refinements",children:[{selector:"li a",add_text:!0,name:"from_text",clickable:!0}]}]},{selector:"div.s-main-slot.s-result-list.s-search-results",name:"search_results",children:[{insert_split_marker:!0,insert_split_marker_every:4,selector:'div[data-component-type="s-search-result"]',text_selector:"span.a-size-base-plus.a-color-base.a-text-normal",name:"from_text",class:"search-result",children:[{selector:"div[data-cy='title-recipe'] a",add_text:!0,class:"product-name",clickable:!0,name:"view_product"},{selector:"div[data-cy='reviews-block']",class:"product-review",children:[{selector:"span.a-icon-alt",add_text:!0,class:"product-rating"},{selector:"span.a-size-base.s-underline-text",add_text:!0,text_format:"{} reviews",class:"product-rating-count"}]},{selector:"div[data-cy='price-recipe']",class:"product-price",children:[{selector:"a.a-link-normal > span.a-price > span.a-offscreen",add_text:!0}]},{selector:"div[data-cy='delivery-recipe']",add_text:!0,class:"product-delivery"}]}]},{selector:"span.s-pagination-strip",name:"pagination",children:[{selector:".s-pagination-item",add_text:!0,name:"from_text",clickable:!0}]}]}]},{match:"#productTitle",match_text:"",selector:"html",terminate:"return !!arguments[0]",terminate_callback:"return arguments[0]",children:[{selector:"head",children:[{selector:"title",add_text:!0}]},{selector:"body",children:[e,{selector:"#centerCol",class:"product-card",children:[{selector:"#title",add_text:!0,keep_attr:["id"]},{selector:"#averageCustomerReviews",class:"review",children:[{selector:"span.a-icon-alt",add_text:!0},{selector:"#acrCustomerReviewText",add_text:!0}]},{selector:"#apex_desktop_newAccordionRow #corePriceDisplay_desktop_feature_div span.a-price.aok-align-center.reinventPricePriceToPayMargin.priceToPay",add_text:!0,text_format:"Price: {}",class:"product-price"},{selector:"#twister",class:"product-options",children:[{selector:"div.a-row:has(label.a-form-label):has(span.selection)",children:[{selector:"label.a-form-label",add_text:!0},{selector:"span.selection",add_text:!0}]}]}]},{selector:"#addToCart:has(#buy-now-button)",name:"add_to_cart",children:[{selector:"#productFactsDesktopExpander",add_text:!0,class:"product-facts"},{selector:"div.mir-layout-DELIVERY_BLOCK-slot-PRIMARY_DELIVERY_MESSAGE_LARGE",add_text:!0,class:"product-delivery"},{selector:"#buy-now-button",add_text:!0,clickable:!0,name:"buy_now",class:"product-buy-now",before_hook:'\nconst title = document.querySelector("#title").innerText\nconst price = document.querySelector("span.a-price.aok-align-center.reinventPricePriceToPayMargin.priceToPay").innerText\nconst options = Array.from(document.querySelectorAll("#twister div.a-row:has(label.a-form-label):has(span.selection)")).map(a => ({label: a.querySelector("label.a-form-label").innerText, value: a.querySelector("span.selection").innerText}))\nconst options_dict = {}\nfor (const option of options) {\n    options_dict[option["label"].replace(": ", "")] = option["value"]\n}\nconst asin = document.querySelector("input#ASIN").value\nconsole.log({title, price, options: options_dict, asin})\nreturn {title, price, options: options_dict, asin}\n'}]}]}]},{match:"/ap/signin",match_method:"url",terminate:"return !!arguments[0]",terminate_callback:"return arguments[0]",selector:"html"}];var o=function(e,t,o,r){return new(o||(o=Promise))((function(a,c){function n(e){try{l(r.next(e))}catch(e){c(e)}}function s(e){try{l(r.throw(e))}catch(e){c(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(n,s)}l((r=r.apply(e,t||[])).next())}))};let r=[],a=[],c=0;const n={};function s(e){let t=0;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t|=0;return console.log("Hash value before return:",t),t.toString()}chrome.runtime.onMessage.addListener(((e,t,n)=>(o(void 0,void 0,void 0,(function*(){try{if("saveData"===e.action){if(console.log("saveData ",e.data.eventType),c++,e.data.actionSequenceId=c,r.push(e.data),r.length>10){let e=yield chrome.storage.local.get({interactions:[]});e=e.interactions||[];let t=e.concat(r);r.length=0,yield chrome.storage.local.set({interactions:t})}n({success:!0})}if("captureScreenshot"===e.action){const t=yield function(){return o(this,void 0,void 0,(function*(){try{const[e]=yield chrome.tabs.query({active:!0,currentWindow:!0});if(e)return yield chrome.tabs.captureVisibleTab(e.windowId,{format:"jpeg",quality:25})}catch(e){console.error("Error capturing screenshot:",e)}return null}))}();if(t){if(a.push([t,e.screenshotId]),a.length>10){let e=yield chrome.storage.local.get({screenshots:[]});e=e.screenshots||[];const t=e.concat(a);a.length=0,yield chrome.storage.local.set({screenshots:t})}n({success:!0})}else n({success:!1,message:"Failed to capture screenshot"})}if("downloadData"===e.action){const t=(new Date).toISOString().replace(/[:.]/g,"-"),c=`DATA/SESSION_${t}`;chrome.downloads.download({url:"data:text/plain;charset=utf-8,"+encodeURIComponent(`Session data for timestamp: ${t}, user id: ${e.userId}`),filename:`${c}/session_info.txt`,saveAs:!1},(e=>o(void 0,void 0,void 0,(function*(){let e=(yield chrome.storage.local.get({htmlSnapshots:[]})).htmlSnapshots||{};chrome.storage.local.remove("htmlSnapshots"),console.log(e);const t=yield chrome.storage.local.get({interactions:[]});chrome.storage.local.remove("interactions");let o=t.interactions||[];console.log(o),o=o.concat(r),r.length=0;let s=(yield chrome.storage.local.get({orderDetails:[]})).orderDetails||[];chrome.storage.local.remove("orderDetails");const l={htmlSnapshots:e,interactions:o,orderDetails:s},i=JSON.stringify(l,null,2);chrome.downloads.download({url:"data:text/json;charset=utf-8,"+encodeURIComponent(i),filename:`${c}/interactions.json`,saveAs:!1});const d=yield chrome.storage.local.get({screenshots:[]});chrome.storage.local.remove("screenshots");let h=d.screenshots||[];h=h.concat(a),console.log(h),a.length=0,h.forEach(((e,t)=>{console.log(e);const o=`${c}/${e[1].replace(/[:.]/g,"-")}.jpg`;chrome.downloads.download({url:e[0],filename:o,saveAs:!1})})),n({success:!0})}))))}"clearMemoryCache"===e.action&&(r=[],a=[],c=0,n({success:!0}))}catch(e){console.error("Error handling message:",e),n({success:!1,error:e.message})}})),!0))),chrome.tabs.onActivated.addListener((e=>o(void 0,void 0,void 0,(function*(){try{const t=e.tabId,n=yield chrome.tabs.get(t);if(!n)return void console.error(`Failed to get tab with ID: ${t}`);if(console.log(`Switched to tab ${t} with URL: ${n.url}`),n.url&&n.url.includes("amazon.com")){const e=(new Date).toISOString(),l=`html_${s(n.url)}_${e}`;chrome.tabs.sendMessage(t,{action:"getHTML"},(t=>o(void 0,void 0,void 0,(function*(){const o=null==t?void 0:t.html,s=(yield chrome.storage.local.get({htmlSnapshots:{}})).htmlSnapshots||{};s[l]=o,yield chrome.storage.local.set({htmlSnapshots:s}),c++;const i={eventType:"tabActivate",timestamp:e,target_url:n.url,htmlSnapshotId:l,actionSequenceId:c};if(r.push(i),r.length>10){let e=yield chrome.storage.local.get({interactions:[]});e=e.interactions||[];let t=e.concat(r);r.length=0,yield chrome.storage.local.set({interactions:t})}const d=yield chrome.tabs.captureVisibleTab(n.windowId,{format:"jpeg",quality:25}),h=`screenshot_${e}`;if(d&&(a.push([d,h]),a.length>10)){let e=yield chrome.storage.local.get({screenshots:[]});e=e.screenshots||[];const t=e.concat(a);a.length=0,yield chrome.storage.local.set({screenshots:t})}}))))}}catch(e){console.error("Error in tab activate handler:",e)}})))),chrome.runtime.onMessage.addListener(((e,r,a)=>{var c;if("getRecipe"===e.action&&(null===(c=r.tab)||void 0===c?void 0:c.id))return function(e,r){return o(this,void 0,void 0,(function*(){const o=new URL(r).pathname;for(const r of t){const t=r.match_method||"text";if("text"===t)try{const[{result:t}]=yield chrome.scripting.executeScript({target:{tabId:e},func:(e,t)=>{var o,r;const a=document.querySelector(e);return a&&(!t||null!==(r=null===(o=a.textContent)||void 0===o?void 0:o.toLowerCase().includes(t.toLowerCase()))&&void 0!==r&&r)},args:[r.match,r.match_text||""]});if(t)return r}catch(e){console.error("Error checking text match:",e)}else if("url"===t&&r.match===o)return r}throw new Error(`No matching recipe found for path: ${o}`)}))}(r.tab.id,e.url).then((e=>{a({recipe:e})})).catch((e=>{a({error:e.message})})),!0})),chrome.webNavigation.onCommitted.addListener((e=>o(void 0,void 0,void 0,(function*(){if(0===e.frameId&&(console.log("webNavigation onCommitted event triggered:",e),e.url.includes("amazon.com"))){const t=function(e,t){n[e]||(n[e]={backStack:[],forwardStack:[],currentUrl:null});const o=n[e];if(!o.currentUrl)return o.currentUrl=t,"new";const r=o.forwardStack.indexOf(t);if(-1!==r){const e=o.forwardStack.splice(r,1)[0];return o.backStack.push(o.currentUrl),o.currentUrl=e,"forward"}const a=o.backStack.indexOf(t);return-1!==a?(o.forwardStack.push(o.currentUrl),o.currentUrl=t,o.backStack.splice(a),"back"):(o.currentUrl&&o.backStack.push(o.currentUrl),o.forwardStack=[],o.currentUrl=t,"new")}(e.tabId,e.url);console.log(`Navigation type: ${t} for tab ${e.tabId} to ${e.url}`),chrome.scripting.executeScript({target:{tabId:e.tabId},func:()=>document.documentElement.outerHTML},(n=>o(void 0,void 0,void 0,(function*(){if(n&&n[0]&&n[0].result){const o=n[0].result,l=(new Date).toISOString(),i=`html_${s(e.url)}_${l}`,d=(yield chrome.storage.local.get({htmlSnapshots:{}})).htmlSnapshots||{};d[i]=o,yield chrome.storage.local.set({htmlSnapshots:d}),c++;const h={eventType:"navigation",navigationType:t,timestamp:l,target_url:e.url,htmlSnapshotId:i,actionSequenceId:c};if(r.push(h),r.length>10){let e=yield chrome.storage.local.get({interactions:[]});e=e.interactions||[];let t=e.concat(r);r.length=0,yield chrome.storage.local.set({interactions:t})}const u=yield chrome.tabs.get(e.tabId),m=yield chrome.tabs.captureVisibleTab(u.windowId,{format:"jpeg",quality:25}),p=`screenshot_${l}`;if(m&&(a.push([m,p]),a.length>10)){let e=yield chrome.storage.local.get({screenshots:[]});e=e.screenshots||[];const t=e.concat(a);a.length=0,yield chrome.storage.local.set({screenshots:t})}}}))))}})))),chrome.tabs.onRemoved.addListener((e=>{delete n[e]}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWdCLEdBQ2hDLElBQUkyQixFQUFvQi9CLEVBQU9nQyxPQUFPNUIsR0FDdENBLEVBQWFRLE9BQVMsUUFDaEJLLE9BQU9XLFFBQVFDLE1BQU1JLElBQUksQ0FBRTdCLGFBQWMyQixHQUNuRCxDQUVBLE1BQU1NLFFBQVlwQixPQUFPcUIsS0FBS1IsSUFBSXNGLEVBQVF0QyxPQUNwQzNDLFFBQTBCbEIsT0FBT3FCLEtBQUtJLGtCQUFrQkwsRUFBSU0sU0FBVSxDQUN4RUMsT0FBUSxPQUNSQyxRQUFTLEtBRVBHLEVBQWUsY0FBY0UsSUFDbkMsR0FBSWYsSUFDQTlCLEVBQVlzQixLQUFLLENBQUNRLEVBQW1CYSxJQUNqQzNDLEVBQVlPLE9BM1RaLElBMlRzQyxDQUN0QyxJQUFJWixRQUFlaUIsT0FBT1csUUFBUUMsTUFBTUMsSUFBSSxDQUFFekIsWUFBYSxLQUMzREwsRUFBU0EsRUFBT0ssYUFBZSxHQUMvQixNQUFNNEMsRUFBbUJqRCxFQUFPZ0MsT0FBTzNCLEdBQ3ZDQSxFQUFZTyxPQUFTLFFBQ2ZLLE9BQU9XLFFBQVFDLE1BQU1JLElBQUksQ0FBRTVCLFlBQWE0QyxHQUNsRCxDQUVSLENBQ0osS0FDSixDQUNKLE1BRUFoQyxPQUFPcUIsS0FBSytGLFVBQVVqSCxhQUFhMEQsV0FDeEJ2RSxFQUFxQnVFLEVBQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL2Nocm9tZS1leHRlbnNpb24tdHlwZXNjcmlwdC1zdGFydGVyLy4vc3JjL3JlY2lwZS50cyIsIndlYnBhY2s6Ly9jaHJvbWUtZXh0ZW5zaW9uLXR5cGVzY3JpcHQtc3RhcnRlci8uL3NyYy9iYWNrZ3JvdW5kLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBuYXYgPSB7XG4gICAgXCJzZWxlY3RvclwiOiBcIiNuYXYtc2VhcmNoLWJhci1mb3JtXCIsXG4gICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCJpbnB1dCN0d290YWJzZWFyY2h0ZXh0Ym94XCIsXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJzZWFyY2hfaW5wdXRcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcIiNuYXYtc2VhcmNoLXN1Ym1pdC1idXR0b25cIixcbiAgICAgICAgICAgIFwiY2xpY2thYmxlXCI6IHRydWUsXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJzZWFyY2hfYnV0dG9uXCIsXG4gICAgICAgIH0sXG4gICAgXSxcbn07XG5leHBvcnQgY29uc3QgcmVmaW5lbWVudF9vcHRpb24gPSBbXG4gICAge1xuICAgICAgICBcInNlbGVjdG9yXCI6IFwic3Bhbi5hLXNpemUtYmFzZS5hLWNvbG9yLWJhc2UucHVpcy1ib2xkLXdlaWdodC10ZXh0XCIsXG4gICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgXCJjbGFzc1wiOiBcInJlZmluZW1lbnQtdGl0bGVcIixcbiAgICB9LFxuICAgIHtcbiAgICAgICAgXCJzZWxlY3RvclwiOiBcInVsOm50aC1vZi10eXBlKDEpID4gc3Bhbi5hLWRlY2xhcmF0aXZlID4gc3BhbiA+IGxpXCIsXG4gICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgXCJuYW1lXCI6IFwiZnJvbV90ZXh0XCIsXG4gICAgICAgIFwiY2xpY2thYmxlXCI6IHRydWUsXG4gICAgICAgIFwiY2xpY2tfc2VsZWN0b3JcIjogXCJhXCIsXG4gICAgICAgIFwiZGlyZWN0X2NoaWxkXCI6IHRydWUsXG4gICAgICAgIFwiY2hpbGRyZW5cIjogW3sgXCJzZWxlY3RvclwiOiBcImlucHV0W3R5cGU9J2NoZWNrYm94J11cIiB9XSxcbiAgICB9LFxuXTtcbmV4cG9ydCBjb25zdCByZWNpcGVzID0gW1xuICAgIHtcbiAgICAgICAgXCJtYXRjaFwiOiBcIi9cIixcbiAgICAgICAgXCJtYXRjaF9tZXRob2RcIjogXCJ1cmxcIixcbiAgICAgICAgXCJzZWxlY3RvclwiOiBcImh0bWxcIixcbiAgICAgICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICAgICAgICB7IFwic2VsZWN0b3JcIjogXCJoZWFkXCIsIFwiY2hpbGRyZW5cIjogW3sgXCJzZWxlY3RvclwiOiBcInRpdGxlXCIsIFwiYWRkX3RleHRcIjogdHJ1ZSB9XSB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCJib2R5XCIsXG4gICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiOiBbbmF2XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIFwibWF0Y2hcIjogXCIvc1wiLFxuICAgICAgICBcIm1hdGNoX21ldGhvZFwiOiBcInVybFwiLFxuICAgICAgICBcInNlbGVjdG9yXCI6IFwiaHRtbFwiLFxuICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgIHsgXCJzZWxlY3RvclwiOiBcImhlYWRcIiwgXCJjaGlsZHJlblwiOiBbeyBcInNlbGVjdG9yXCI6IFwidGl0bGVcIiwgXCJhZGRfdGV4dFwiOiB0cnVlIH1dIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcImJvZHlcIixcbiAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgbmF2LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiI3MtcmVmaW5lbWVudHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInJlZmluZW1lbnRzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCJkaXYuYS1zZWN0aW9uLmEtc3BhY2luZy1ub25lOm5vdCg6aGFzKCNuLXRpdGxlKSk6aGFzKHNwYW4uYS1zaXplLWJhc2UuYS1jb2xvci1iYXNlLnB1aXMtYm9sZC13ZWlnaHQtdGV4dCk6aGFzKHVsIHNwYW4uYS1kZWNsYXJhdGl2ZSA+IHNwYW4gPiBsaSk6bm90KCNyZXZpZXdzUmVmaW5lbWVudHMpOm5vdCgjZGVwYXJ0bWVudHMpOm5vdCgjcHJpY2VSZWZpbmVtZW50cyk6bm90KCNmaWx0ZXJzKVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJmcm9tX3RleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0X3NlbGVjdG9yXCI6IFwic3Bhbi5hLXNpemUtYmFzZS5hLWNvbG9yLWJhc2UucHVpcy1ib2xkLXdlaWdodC10ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hpbGRyZW5cIjogcmVmaW5lbWVudF9vcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCIjZGVwYXJ0bWVudHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZGVwYXJ0bWVudHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcImxpIGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFkZF90ZXh0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZnJvbV90ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGlja2FibGVcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcIiNyZXZpZXdzUmVmaW5lbWVudHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwicmV2aWV3c19yZWZpbmVtZW50c1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwibGkgYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJmcm9tX3RleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsaWNrYWJsZVwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiZGl2LnMtbWFpbi1zbG90LnMtcmVzdWx0LWxpc3Qucy1zZWFyY2gtcmVzdWx0c1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2VhcmNoX3Jlc3VsdHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hpbGRyZW5cIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbnNlcnRfc3BsaXRfbWFya2VyXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW5zZXJ0X3NwbGl0X21hcmtlcl9ldmVyeVwiOiA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6ICdkaXZbZGF0YS1jb21wb25lbnQtdHlwZT1cInMtc2VhcmNoLXJlc3VsdFwiXScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dF9zZWxlY3RvclwiOiBcInNwYW4uYS1zaXplLWJhc2UtcGx1cy5hLWNvbG9yLWJhc2UuYS10ZXh0LW5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJmcm9tX3RleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcInNlYXJjaC1yZXN1bHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcImRpdltkYXRhLWN5PSd0aXRsZS1yZWNpcGUnXSBhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRfdGV4dFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJwcm9kdWN0LW5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsaWNrYWJsZVwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInZpZXdfcHJvZHVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiZGl2W2RhdGEtY3k9J3Jldmlld3MtYmxvY2snXVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJwcm9kdWN0LXJldmlld1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hpbGRyZW5cIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwic3Bhbi5hLWljb24tYWx0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFkZF90ZXh0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwicHJvZHVjdC1yYXRpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcInNwYW4uYS1zaXplLWJhc2Uucy11bmRlcmxpbmUtdGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRfdGV4dFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0X2Zvcm1hdFwiOiBcInt9IHJldmlld3NcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJwcm9kdWN0LXJhdGluZy1jb3VudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCJkaXZbZGF0YS1jeT0ncHJpY2UtcmVjaXBlJ11cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwicHJvZHVjdC1wcmljZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hpbGRyZW5cIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiYS5hLWxpbmstbm9ybWFsID4gc3Bhbi5hLXByaWNlID4gc3Bhbi5hLW9mZnNjcmVlblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRfdGV4dFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCJkaXZbZGF0YS1jeT0nZGVsaXZlcnktcmVjaXBlJ11cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFkZF90ZXh0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcInByb2R1Y3QtZGVsaXZlcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcInNwYW4ucy1wYWdpbmF0aW9uLXN0cmlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJwYWdpbmF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCIucy1wYWdpbmF0aW9uLWl0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRfdGV4dFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJmcm9tX3RleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGlja2FibGVcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgICBcIm1hdGNoXCI6IFwiI3Byb2R1Y3RUaXRsZVwiLFxuICAgICAgICBcIm1hdGNoX3RleHRcIjogXCJcIixcbiAgICAgICAgXCJzZWxlY3RvclwiOiBcImh0bWxcIixcbiAgICAgICAgXCJ0ZXJtaW5hdGVcIjogXCJyZXR1cm4gISFhcmd1bWVudHNbMF1cIixcbiAgICAgICAgXCJ0ZXJtaW5hdGVfY2FsbGJhY2tcIjogXCJyZXR1cm4gYXJndW1lbnRzWzBdXCIsXG4gICAgICAgIFwiY2hpbGRyZW5cIjogW1xuICAgICAgICAgICAgeyBcInNlbGVjdG9yXCI6IFwiaGVhZFwiLCBcImNoaWxkcmVuXCI6IFt7IFwic2VsZWN0b3JcIjogXCJ0aXRsZVwiLCBcImFkZF90ZXh0XCI6IHRydWUgfV0gfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiYm9keVwiLFxuICAgICAgICAgICAgICAgIFwiY2hpbGRyZW5cIjogW1xuICAgICAgICAgICAgICAgICAgICBuYXYsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCIjY2VudGVyQ29sXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwicHJvZHVjdC1jYXJkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0b3JcIjogXCIjdGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRfdGV4dFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImtlZXBfYXR0clwiOiBbXCJpZFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcIiNhdmVyYWdlQ3VzdG9tZXJSZXZpZXdzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJyZXZpZXdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcInNwYW4uYS1pY29uLWFsdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcIiNhY3JDdXN0b21lclJldmlld1RleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFkZF90ZXh0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiI2FwZXhfZGVza3RvcF9uZXdBY2NvcmRpb25Sb3cgI2NvcmVQcmljZURpc3BsYXlfZGVza3RvcF9mZWF0dXJlX2RpdiBzcGFuLmEtcHJpY2UuYW9rLWFsaWduLWNlbnRlci5yZWludmVudFByaWNlUHJpY2VUb1BheU1hcmdpbi5wcmljZVRvUGF5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0X2Zvcm1hdFwiOiBcIlByaWNlOiB7fVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwicHJvZHVjdC1wcmljZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiI3R3aXN0ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcInByb2R1Y3Qtb3B0aW9uc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiZGl2LmEtcm93OmhhcyhsYWJlbC5hLWZvcm0tbGFiZWwpOmhhcyhzcGFuLnNlbGVjdGlvbilcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcImxhYmVsLmEtZm9ybS1sYWJlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRfdGV4dFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwic3Bhbi5zZWxlY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiI2FkZFRvQ2FydDpoYXMoI2J1eS1ub3ctYnV0dG9uKVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiYWRkX3RvX2NhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hpbGRyZW5cIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWxlY3RvclwiOiBcIiNwcm9kdWN0RmFjdHNEZXNrdG9wRXhwYW5kZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRfdGV4dFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwicHJvZHVjdC1mYWN0c1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiZGl2Lm1pci1sYXlvdXQtREVMSVZFUllfQkxPQ0stc2xvdC1QUklNQVJZX0RFTElWRVJZX01FU1NBR0VfTEFSR0VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRfdGV4dFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwicHJvZHVjdC1kZWxpdmVyeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdG9yXCI6IFwiI2J1eS1ub3ctYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkX3RleHRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGlja2FibGVcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiYnV5X25vd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwicHJvZHVjdC1idXktbm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYmVmb3JlX2hvb2tcIjogYFxuY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RpdGxlXCIpLmlubmVyVGV4dFxuY29uc3QgcHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwic3Bhbi5hLXByaWNlLmFvay1hbGlnbi1jZW50ZXIucmVpbnZlbnRQcmljZVByaWNlVG9QYXlNYXJnaW4ucHJpY2VUb1BheVwiKS5pbm5lclRleHRcbmNvbnN0IG9wdGlvbnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjdHdpc3RlciBkaXYuYS1yb3c6aGFzKGxhYmVsLmEtZm9ybS1sYWJlbCk6aGFzKHNwYW4uc2VsZWN0aW9uKVwiKSkubWFwKGEgPT4gKHtsYWJlbDogYS5xdWVyeVNlbGVjdG9yKFwibGFiZWwuYS1mb3JtLWxhYmVsXCIpLmlubmVyVGV4dCwgdmFsdWU6IGEucXVlcnlTZWxlY3RvcihcInNwYW4uc2VsZWN0aW9uXCIpLmlubmVyVGV4dH0pKVxuY29uc3Qgb3B0aW9uc19kaWN0ID0ge31cbmZvciAoY29uc3Qgb3B0aW9uIG9mIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zX2RpY3Rbb3B0aW9uW1wibGFiZWxcIl0ucmVwbGFjZShcIjogXCIsIFwiXCIpXSA9IG9wdGlvbltcInZhbHVlXCJdXG59XG5jb25zdCBhc2luID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0I0FTSU5cIikudmFsdWVcbmNvbnNvbGUubG9nKHt0aXRsZSwgcHJpY2UsIG9wdGlvbnM6IG9wdGlvbnNfZGljdCwgYXNpbn0pXG5yZXR1cm4ge3RpdGxlLCBwcmljZSwgb3B0aW9uczogb3B0aW9uc19kaWN0LCBhc2lufVxuYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgXCJtYXRjaFwiOiBcIi9hcC9zaWduaW5cIixcbiAgICAgICAgXCJtYXRjaF9tZXRob2RcIjogXCJ1cmxcIixcbiAgICAgICAgXCJ0ZXJtaW5hdGVcIjogXCJyZXR1cm4gISFhcmd1bWVudHNbMF1cIixcbiAgICAgICAgXCJ0ZXJtaW5hdGVfY2FsbGJhY2tcIjogXCJyZXR1cm4gYXJndW1lbnRzWzBdXCIsXG4gICAgICAgIFwic2VsZWN0b3JcIjogXCJodG1sXCIsXG4gICAgfSxcbl07XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IHJlY2lwZXMgfSBmcm9tICcuL3JlY2lwZSc7XG5sZXQgaW50ZXJhY3Rpb25zID0gW107XG5jb25zdCBpbnRlcmFjdGlvbnNMaW1pdCA9IDEwO1xubGV0IHNjcmVlbnNob3RzID0gW107XG5jb25zdCBzY3JlZW5zaG90TGltaXQgPSAxMDtcbmxldCBhY3Rpb25TZXF1ZW5jZUlkID0gMDtcbi8vIEFkZCBuYXZpZ2F0aW9uIHRyYWNraW5nIHN0YXRlIGZvciBlYWNoIHRhYlxuY29uc3QgdGFiTmF2aWdhdGlvbkhpc3RvcnkgPSB7fTtcbi8vIEFkZCB0aGlzIGZ1bmN0aW9uIHRvIGFuYWx5emUgbmF2aWdhdGlvbiB0eXBlXG5mdW5jdGlvbiBhbmFseXplTmF2aWdhdGlvbih0YWJJZCwgdXJsKSB7XG4gICAgaWYgKCF0YWJOYXZpZ2F0aW9uSGlzdG9yeVt0YWJJZF0pIHtcbiAgICAgICAgdGFiTmF2aWdhdGlvbkhpc3RvcnlbdGFiSWRdID0ge1xuICAgICAgICAgICAgYmFja1N0YWNrOiBbXSxcbiAgICAgICAgICAgIGZvcndhcmRTdGFjazogW10sXG4gICAgICAgICAgICBjdXJyZW50VXJsOiBudWxsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGhpc3RvcnkgPSB0YWJOYXZpZ2F0aW9uSGlzdG9yeVt0YWJJZF07XG4gICAgaWYgKCFoaXN0b3J5LmN1cnJlbnRVcmwpIHtcbiAgICAgICAgaGlzdG9yeS5jdXJyZW50VXJsID0gdXJsO1xuICAgICAgICByZXR1cm4gJ25ldyc7XG4gICAgfVxuICAgIGNvbnN0IGZvcndhcmRJbmRleCA9IGhpc3RvcnkuZm9yd2FyZFN0YWNrLmluZGV4T2YodXJsKTtcbiAgICBpZiAoZm9yd2FyZEluZGV4ICE9PSAtMSkge1xuICAgICAgICBjb25zdCBtb3ZlZFVybCA9IGhpc3RvcnkuZm9yd2FyZFN0YWNrLnNwbGljZShmb3J3YXJkSW5kZXgsIDEpWzBdO1xuICAgICAgICBoaXN0b3J5LmJhY2tTdGFjay5wdXNoKGhpc3RvcnkuY3VycmVudFVybCk7XG4gICAgICAgIGhpc3RvcnkuY3VycmVudFVybCA9IG1vdmVkVXJsO1xuICAgICAgICByZXR1cm4gJ2ZvcndhcmQnO1xuICAgIH1cbiAgICBjb25zdCBiYWNrSW5kZXggPSBoaXN0b3J5LmJhY2tTdGFjay5pbmRleE9mKHVybCk7XG4gICAgaWYgKGJhY2tJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgaGlzdG9yeS5mb3J3YXJkU3RhY2sucHVzaChoaXN0b3J5LmN1cnJlbnRVcmwpO1xuICAgICAgICBoaXN0b3J5LmN1cnJlbnRVcmwgPSB1cmw7XG4gICAgICAgIGhpc3RvcnkuYmFja1N0YWNrLnNwbGljZShiYWNrSW5kZXgpO1xuICAgICAgICByZXR1cm4gJ2JhY2snO1xuICAgIH1cbiAgICBpZiAoaGlzdG9yeS5jdXJyZW50VXJsKSB7XG4gICAgICAgIGhpc3RvcnkuYmFja1N0YWNrLnB1c2goaGlzdG9yeS5jdXJyZW50VXJsKTtcbiAgICB9XG4gICAgaGlzdG9yeS5mb3J3YXJkU3RhY2sgPSBbXTtcbiAgICBoaXN0b3J5LmN1cnJlbnRVcmwgPSB1cmw7XG4gICAgcmV0dXJuICduZXcnO1xufVxuY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChtZXNzYWdlLCBzZW5kZXIsIHNlbmRSZXNwb25zZSkgPT4ge1xuICAgICgoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbiA9PT0gJ3NhdmVEYXRhJykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzYXZlRGF0YSAnLCBtZXNzYWdlLmRhdGEuZXZlbnRUeXBlKTtcbiAgICAgICAgICAgICAgICBhY3Rpb25TZXF1ZW5jZUlkKys7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhLmFjdGlvblNlcXVlbmNlSWQgPSBhY3Rpb25TZXF1ZW5jZUlkO1xuICAgICAgICAgICAgICAgIGludGVyYWN0aW9ucy5wdXNoKG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9ucy5sZW5ndGggPiBpbnRlcmFjdGlvbnNMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0geWllbGQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KHsgaW50ZXJhY3Rpb25zOiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmludGVyYWN0aW9ucyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0b3JlSW50ZXJhY3Rpb25zID0gcmVzdWx0LmNvbmNhdChpbnRlcmFjdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgaW50ZXJhY3Rpb25zOiBzdG9yZUludGVyYWN0aW9ucyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENhcHR1cmUgc2NyZWVuc2hvdCBvbiBkZW1hbmRcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbiA9PT0gJ2NhcHR1cmVTY3JlZW5zaG90Jykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmVlbnNob3REYXRhVXJsID0geWllbGQgY2FwdHVyZVNjcmVlbnNob3QoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2NyZWVuc2hvdERhdGFVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuc2hvdHMucHVzaChbc2NyZWVuc2hvdERhdGFVcmwsIG1lc3NhZ2Uuc2NyZWVuc2hvdElkXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY3JlZW5zaG90cy5sZW5ndGggPiBzY3JlZW5zaG90TGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB5aWVsZCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoeyBzY3JlZW5zaG90czogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2NyZWVuc2hvdHMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZVNjcmVlbnNob3RzID0gcmVzdWx0LmNvbmNhdChzY3JlZW5zaG90cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JlZW5zaG90cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgc2NyZWVuc2hvdHM6IHN0b3JlU2NyZWVuc2hvdHMgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnRmFpbGVkIHRvIGNhcHR1cmUgc2NyZWVuc2hvdCcgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG93bmxvYWQgZGF0YSBvbiB1c2VyIHJlcXVlc3RcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbiA9PT0gJ2Rvd25sb2FkRGF0YScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzouXS9nLCAnLScpOyAvLyBDcmVhdGUgYSB0aW1lc3RhbXAgZm9yIHRoZSBmb2xkZXIgbmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IGZvbGRlck5hbWUgPSBgREFUQS9TRVNTSU9OXyR7dGltZXN0YW1wfWA7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgZm9sZGVyIHdpdGggdGhlIHRpbWVzdGFtcCBhbmQgZG93bmxvYWQgc2Vzc2lvbiBpbmZvXG4gICAgICAgICAgICAgICAgY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJ2RhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCcgKyBlbmNvZGVVUklDb21wb25lbnQoYFNlc3Npb24gZGF0YSBmb3IgdGltZXN0YW1wOiAke3RpbWVzdGFtcH0sIHVzZXIgaWQ6ICR7bWVzc2FnZS51c2VySWR9YCksXG4gICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBgJHtmb2xkZXJOYW1lfS9zZXNzaW9uX2luZm8udHh0YCxcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUFzOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sIChkb3dubG9hZElkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSBhbGwgaW50ZXJhY3Rpb25zIGluIGEgc2luZ2xlIEpTT04gZmlsZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdHMgPSB5aWVsZCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoeyBodG1sU25hcHNob3RzOiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGh0bWxTbmFwc2hvdHMgPSBzbmFwc2hvdHMuaHRtbFNuYXBzaG90cyB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwucmVtb3ZlKCdodG1sU25hcHNob3RzJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGh0bWxTbmFwc2hvdHMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQxID0geWllbGQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KHsgaW50ZXJhY3Rpb25zOiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwucmVtb3ZlKCdpbnRlcmFjdGlvbnMnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0b3JlSW50ZXJhY3Rpb25zID0gcmVzdWx0MS5pbnRlcmFjdGlvbnMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0b3JlSW50ZXJhY3Rpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmVJbnRlcmFjdGlvbnMgPSBzdG9yZUludGVyYWN0aW9ucy5jb25jYXQoaW50ZXJhY3Rpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25zLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yZGVyRGV0YWlscyA9IHlpZWxkIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldCh7IG9yZGVyRGV0YWlsczogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdG9yZW9yZGVyRGV0YWlscyA9IG9yZGVyRGV0YWlscy5vcmRlckRldGFpbHMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLnJlbW92ZSgnb3JkZXJEZXRhaWxzJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbFNuYXBzaG90czogaHRtbFNuYXBzaG90cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uczogc3RvcmVJbnRlcmFjdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlckRldGFpbHM6IHN0b3Jlb3JkZXJEZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlcmFjdGlvbnNEYXRhID0gSlNPTi5zdHJpbmdpZnkoZnVsbERhdGEsIG51bGwsIDIpO1xuICAgICAgICAgICAgICAgICAgICBjaHJvbWUuZG93bmxvYWRzLmRvd25sb2FkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2RhdGE6dGV4dC9qc29uO2NoYXJzZXQ9dXRmLTgsJyArIGVuY29kZVVSSUNvbXBvbmVudChpbnRlcmFjdGlvbnNEYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBgJHtmb2xkZXJOYW1lfS9pbnRlcmFjdGlvbnMuanNvbmAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlQXM6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQyID0geWllbGQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KHsgc2NyZWVuc2hvdHM6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5yZW1vdmUoJ3NjcmVlbnNob3RzJyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdG9yZVNjcmVlbnNob3RzID0gcmVzdWx0Mi5zY3JlZW5zaG90cyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmVTY3JlZW5zaG90cyA9IHN0b3JlU2NyZWVuc2hvdHMuY29uY2F0KHNjcmVlbnNob3RzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RvcmVTY3JlZW5zaG90cyk7XG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbnNob3RzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgYWxsIHNjcmVlbnNob3RzIGFzIGluZGl2aWR1YWwganBnIGZpbGVzXG4gICAgICAgICAgICAgICAgICAgIHN0b3JlU2NyZWVuc2hvdHMuZm9yRWFjaCgoc2NyZWVuc2hvdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjcmVlbnNob3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBgJHtmb2xkZXJOYW1lfS8ke3NjcmVlbnNob3RbMV0ucmVwbGFjZSgvWzouXS9nLCBcIi1cIil9LmpwZ2A7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUuZG93bmxvYWRzLmRvd25sb2FkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNjcmVlbnNob3RbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVBczogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hyb21lLnN0b3JhZ2UubG9jYWwuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5hY3Rpb24gPT09ICdjbGVhck1lbW9yeUNhY2hlJykge1xuICAgICAgICAgICAgICAgIGludGVyYWN0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgIHNjcmVlbnNob3RzID0gW107XG4gICAgICAgICAgICAgICAgYWN0aW9uU2VxdWVuY2VJZCA9IDA7XG4gICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIGNocm9tZS5zdG9yYWdlLmxvY2FsLmNsZWFyKCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYW5kbGluZyBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcbiAgICAgICAgfVxuICAgIH0pKSgpO1xuICAgIHJldHVybiB0cnVlOyAvLyBLZWVwcyB0aGUgbWVzc2FnZSBjaGFubmVsIG9wZW4gZm9yIGFzeW5jIHJlc3BvbnNlc1xufSk7XG4vLyBDYXB0dXJlIHRoZSBzY3JlZW5zaG90IGluIHRoZSBjdXJyZW50IHRhYlxuZnVuY3Rpb24gY2FwdHVyZVNjcmVlbnNob3QoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IFt0YWJdID0geWllbGQgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSk7XG4gICAgICAgICAgICBpZiAodGFiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIGNocm9tZS50YWJzLmNhcHR1cmVWaXNpYmxlVGFiKHRhYi53aW5kb3dJZCwgeyBmb3JtYXQ6ICdqcGVnJywgcXVhbGl0eTogMjUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYXB0dXJpbmcgc2NyZWVuc2hvdDonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBoYXNoQ29kZShzdHIpIHtcbiAgICBsZXQgaGFzaCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGhhc2ggfD0gMDtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJIYXNoIHZhbHVlIGJlZm9yZSByZXR1cm46XCIsIGhhc2gpO1xuICAgIHJldHVybiBoYXNoLnRvU3RyaW5nKCk7XG59XG4vLyBsaXN0ZW4gdG8gc3dpdGNoZXMgYmV0d2VlbiBhY3RpdmF0ZWQgdGFic1xuY2hyb21lLnRhYnMub25BY3RpdmF0ZWQuYWRkTGlzdGVuZXIoKGFjdGl2ZUluZm8pID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRhYklkID0gYWN0aXZlSW5mby50YWJJZDtcbiAgICAgICAgY29uc3QgdGFiID0geWllbGQgY2hyb21lLnRhYnMuZ2V0KHRhYklkKTtcbiAgICAgICAgaWYgKCF0YWIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBnZXQgdGFiIHdpdGggSUQ6ICR7dGFiSWR9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coYFN3aXRjaGVkIHRvIHRhYiAke3RhYklkfSB3aXRoIFVSTDogJHt0YWIudXJsfWApO1xuICAgICAgICBpZiAodGFiLnVybCAmJiB0YWIudXJsLmluY2x1ZGVzKCdhbWF6b24uY29tJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTbmFwc2hvdElkID0gYGh0bWxfJHtoYXNoQ29kZSh0YWIudXJsKX1fJHt0aW1lc3RhbXB9YDtcbiAgICAgICAgICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKHRhYklkLCB7IGFjdGlvbjogJ2dldEhUTUwnIH0sIChyZXNwb25zZSkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbENvbnRlbnQgPSByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UuaHRtbDtcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0geWllbGQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KHsgaHRtbFNuYXBzaG90czoge30gfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbFNuYXBzaG90cyA9IHJlc3VsdC5odG1sU25hcHNob3RzIHx8IHt9O1xuICAgICAgICAgICAgICAgIGh0bWxTbmFwc2hvdHNbY3VycmVudFNuYXBzaG90SWRdID0gaHRtbENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgeWllbGQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgaHRtbFNuYXBzaG90cyB9KTtcbiAgICAgICAgICAgICAgICBhY3Rpb25TZXF1ZW5jZUlkKys7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBcInRhYkFjdGl2YXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRfdXJsOiB0YWIudXJsLFxuICAgICAgICAgICAgICAgICAgICBodG1sU25hcHNob3RJZDogY3VycmVudFNuYXBzaG90SWQsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlcXVlbmNlSWQ6IGFjdGlvblNlcXVlbmNlSWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25zLmxlbmd0aCA+IGludGVyYWN0aW9uc0xpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB5aWVsZCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoeyBpbnRlcmFjdGlvbnM6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuaW50ZXJhY3Rpb25zIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RvcmVJbnRlcmFjdGlvbnMgPSByZXN1bHQuY29uY2F0KGludGVyYWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9ucy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBpbnRlcmFjdGlvbnM6IHN0b3JlSW50ZXJhY3Rpb25zIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyZWVuc2hvdERhdGFVcmwgPSB5aWVsZCBjaHJvbWUudGFicy5jYXB0dXJlVmlzaWJsZVRhYih0YWIud2luZG93SWQsIHsgZm9ybWF0OiAnanBlZycsIHF1YWxpdHk6IDI1IH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmVlbnNob3RJZCA9IGBzY3JlZW5zaG90XyR7dGltZXN0YW1wfWA7XG4gICAgICAgICAgICAgICAgaWYgKHNjcmVlbnNob3REYXRhVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbnNob3RzLnB1c2goW3NjcmVlbnNob3REYXRhVXJsLCBzY3JlZW5zaG90SWRdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjcmVlbnNob3RzLmxlbmd0aCA+IHNjcmVlbnNob3RMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHlpZWxkIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldCh7IHNjcmVlbnNob3RzOiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zY3JlZW5zaG90cyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlU2NyZWVuc2hvdHMgPSByZXN1bHQuY29uY2F0KHNjcmVlbnNob3RzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmVlbnNob3RzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBzY3JlZW5zaG90czogc3RvcmVTY3JlZW5zaG90cyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gdGFiIGFjdGl2YXRlIGhhbmRsZXI6JywgZXJyb3IpO1xuICAgIH1cbn0pKTtcbmZ1bmN0aW9uIHNlbGVjdFJlY2lwZSh0YWJJZCwgdXJsKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVXJsID0gbmV3IFVSTCh1cmwpO1xuICAgICAgICBjb25zdCBwYXRoID0gcGFyc2VkVXJsLnBhdGhuYW1lO1xuICAgICAgICBmb3IgKGNvbnN0IHJlY2lwZSBvZiByZWNpcGVzKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaE1ldGhvZCA9IHJlY2lwZS5tYXRjaF9tZXRob2QgfHwgXCJ0ZXh0XCI7XG4gICAgICAgICAgICBpZiAobWF0Y2hNZXRob2QgPT09IFwidGV4dFwiKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSBzY3JpcHQgaW4gdGFiIHRvIGNoZWNrIGZvciBtYXRjaGluZyBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFt7IHJlc3VsdDogaGFzTWF0Y2ggfV0gPSB5aWVsZCBjaHJvbWUuc2NyaXB0aW5nLmV4ZWN1dGVTY3JpcHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7IHRhYklkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jOiAoc2VsZWN0b3IsIG1hdGNoVGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50ICYmICghbWF0Y2hUZXh0IHx8ICgoX2IgPSAoX2EgPSBlbGVtZW50LnRleHRDb250ZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhtYXRjaFRleHQudG9Mb3dlckNhc2UoKSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogW3JlY2lwZS5tYXRjaCwgcmVjaXBlLm1hdGNoX3RleHQgfHwgXCJcIl1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY2lwZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNoZWNraW5nIHRleHQgbWF0Y2g6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXRjaE1ldGhvZCA9PT0gXCJ1cmxcIiAmJiByZWNpcGUubWF0Y2ggPT09IHBhdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjaXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gbWF0Y2hpbmcgcmVjaXBlIGZvdW5kIGZvciBwYXRoOiAke3BhdGh9YCk7XG4gICAgfSk7XG59XG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKG1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChtZXNzYWdlLmFjdGlvbiA9PT0gJ2dldFJlY2lwZScgJiYgKChfYSA9IHNlbmRlci50YWIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pZCkpIHtcbiAgICAgICAgc2VsZWN0UmVjaXBlKHNlbmRlci50YWIuaWQsIG1lc3NhZ2UudXJsKVxuICAgICAgICAgICAgLnRoZW4oKHJlY2lwZSkgPT4ge1xuICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgcmVjaXBlOiByZWNpcGUgfSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBzZW5kUmVzcG9uc2UoeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBJbmRpY2F0ZSB0aGF0IHNlbmRSZXNwb25zZSB3aWxsIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseVxuICAgIH1cbn0pO1xuY2hyb21lLndlYk5hdmlnYXRpb24ub25Db21taXR0ZWQuYWRkTGlzdGVuZXIoKGRldGFpbHMpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGlmIChkZXRhaWxzLmZyYW1lSWQgIT09IDApXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zb2xlLmxvZygnd2ViTmF2aWdhdGlvbiBvbkNvbW1pdHRlZCBldmVudCB0cmlnZ2VyZWQ6JywgZGV0YWlscyk7XG4gICAgaWYgKGRldGFpbHMudXJsLmluY2x1ZGVzKCdhbWF6b24uY29tJykpIHtcbiAgICAgICAgY29uc3QgbmF2aWdhdGlvblR5cGUgPSBhbmFseXplTmF2aWdhdGlvbihkZXRhaWxzLnRhYklkLCBkZXRhaWxzLnVybCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBOYXZpZ2F0aW9uIHR5cGU6ICR7bmF2aWdhdGlvblR5cGV9IGZvciB0YWIgJHtkZXRhaWxzLnRhYklkfSB0byAke2RldGFpbHMudXJsfWApO1xuICAgICAgICBjaHJvbWUuc2NyaXB0aW5nLmV4ZWN1dGVTY3JpcHQoe1xuICAgICAgICAgICAgdGFyZ2V0OiB7IHRhYklkOiBkZXRhaWxzLnRhYklkIH0sXG4gICAgICAgICAgICBmdW5jOiAoKSA9PiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MXG4gICAgICAgIH0sIChyZXN1bHRzKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHRzICYmIHJlc3VsdHNbMF0gJiYgcmVzdWx0c1swXS5yZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWdlSHRtbCA9IHJlc3VsdHNbMF0ucmVzdWx0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U25hcHNob3RJZCA9IGBodG1sXyR7aGFzaENvZGUoZGV0YWlscy51cmwpfV8ke3RpbWVzdGFtcH1gO1xuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB5aWVsZCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoeyBodG1sU25hcHNob3RzOiB7fSB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBodG1sU25hcHNob3RzID0gcmVzdWx0Lmh0bWxTbmFwc2hvdHMgfHwge307XG4gICAgICAgICAgICAgICAgaHRtbFNuYXBzaG90c1tjdXJyZW50U25hcHNob3RJZF0gPSBwYWdlSHRtbDtcbiAgICAgICAgICAgICAgICB5aWVsZCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBodG1sU25hcHNob3RzIH0pO1xuICAgICAgICAgICAgICAgIC8vIEFkZCBuYXZpZ2F0aW9uIGRhdGEgdG8gaW50ZXJhY3Rpb25zXG4gICAgICAgICAgICAgICAgYWN0aW9uU2VxdWVuY2VJZCsrO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogXCJuYXZpZ2F0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRpb25UeXBlOiBuYXZpZ2F0aW9uVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldF91cmw6IGRldGFpbHMudXJsLFxuICAgICAgICAgICAgICAgICAgICBodG1sU25hcHNob3RJZDogY3VycmVudFNuYXBzaG90SWQsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlcXVlbmNlSWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbnMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25zLmxlbmd0aCA+IGludGVyYWN0aW9uc0xpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB5aWVsZCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoeyBpbnRlcmFjdGlvbnM6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuaW50ZXJhY3Rpb25zIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RvcmVJbnRlcmFjdGlvbnMgPSByZXN1bHQuY29uY2F0KGludGVyYWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9ucy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBpbnRlcmFjdGlvbnM6IHN0b3JlSW50ZXJhY3Rpb25zIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBhZGQgc2NyZWVuc2hvdFxuICAgICAgICAgICAgICAgIGNvbnN0IHRhYiA9IHlpZWxkIGNocm9tZS50YWJzLmdldChkZXRhaWxzLnRhYklkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JlZW5zaG90RGF0YVVybCA9IHlpZWxkIGNocm9tZS50YWJzLmNhcHR1cmVWaXNpYmxlVGFiKHRhYi53aW5kb3dJZCwge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICdqcGVnJyxcbiAgICAgICAgICAgICAgICAgICAgcXVhbGl0eTogMjVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JlZW5zaG90SWQgPSBgc2NyZWVuc2hvdF8ke3RpbWVzdGFtcH1gO1xuICAgICAgICAgICAgICAgIGlmIChzY3JlZW5zaG90RGF0YVVybCkge1xuICAgICAgICAgICAgICAgICAgICBzY3JlZW5zaG90cy5wdXNoKFtzY3JlZW5zaG90RGF0YVVybCwgc2NyZWVuc2hvdElkXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY3JlZW5zaG90cy5sZW5ndGggPiBzY3JlZW5zaG90TGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB5aWVsZCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoeyBzY3JlZW5zaG90czogW10gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2NyZWVuc2hvdHMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZVNjcmVlbnNob3RzID0gcmVzdWx0LmNvbmNhdChzY3JlZW5zaG90cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JlZW5zaG90cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgc2NyZWVuc2hvdHM6IHN0b3JlU2NyZWVuc2hvdHMgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9XG59KSk7XG4vLyBBZGQgY2xlYW51cCB3aGVuIHRhYiBpcyBjbG9zZWRcbmNocm9tZS50YWJzLm9uUmVtb3ZlZC5hZGRMaXN0ZW5lcigodGFiSWQpID0+IHtcbiAgICBkZWxldGUgdGFiTmF2aWdhdGlvbkhpc3RvcnlbdGFiSWRdO1xufSk7XG4iXSwibmFtZXMiOlsibmF2IiwicmVjaXBlcyIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwidmFsdWUiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiYXBwbHkiLCJpbnRlcmFjdGlvbnMiLCJzY3JlZW5zaG90cyIsImFjdGlvblNlcXVlbmNlSWQiLCJ0YWJOYXZpZ2F0aW9uSGlzdG9yeSIsImhhc2hDb2RlIiwic3RyIiwiaGFzaCIsImkiLCJsZW5ndGgiLCJjaGFyQ29kZUF0IiwiY29uc29sZSIsImxvZyIsInRvU3RyaW5nIiwiY2hyb21lIiwicnVudGltZSIsIm9uTWVzc2FnZSIsImFkZExpc3RlbmVyIiwibWVzc2FnZSIsInNlbmRlciIsInNlbmRSZXNwb25zZSIsImFjdGlvbiIsImRhdGEiLCJldmVudFR5cGUiLCJwdXNoIiwic3RvcmFnZSIsImxvY2FsIiwiZ2V0Iiwic3RvcmVJbnRlcmFjdGlvbnMiLCJjb25jYXQiLCJzZXQiLCJzdWNjZXNzIiwic2NyZWVuc2hvdERhdGFVcmwiLCJ0aGlzIiwidGFiIiwidGFicyIsInF1ZXJ5IiwiYWN0aXZlIiwiY3VycmVudFdpbmRvdyIsImNhcHR1cmVWaXNpYmxlVGFiIiwid2luZG93SWQiLCJmb3JtYXQiLCJxdWFsaXR5IiwiZXJyb3IiLCJjYXB0dXJlU2NyZWVuc2hvdCIsInNjcmVlbnNob3RJZCIsInN0b3JlU2NyZWVuc2hvdHMiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJyZXBsYWNlIiwiZm9sZGVyTmFtZSIsImRvd25sb2FkcyIsImRvd25sb2FkIiwidXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidXNlcklkIiwiZmlsZW5hbWUiLCJzYXZlQXMiLCJkb3dubG9hZElkIiwiaHRtbFNuYXBzaG90cyIsInJlbW92ZSIsInJlc3VsdDEiLCJzdG9yZW9yZGVyRGV0YWlscyIsIm9yZGVyRGV0YWlscyIsImZ1bGxEYXRhIiwiaW50ZXJhY3Rpb25zRGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXN1bHQyIiwiZm9yRWFjaCIsInNjcmVlbnNob3QiLCJpbmRleCIsIm9uQWN0aXZhdGVkIiwiYWN0aXZlSW5mbyIsInRhYklkIiwiaW5jbHVkZXMiLCJjdXJyZW50U25hcHNob3RJZCIsInNlbmRNZXNzYWdlIiwicmVzcG9uc2UiLCJodG1sQ29udGVudCIsImh0bWwiLCJ0YXJnZXRfdXJsIiwiaHRtbFNuYXBzaG90SWQiLCJfYSIsImlkIiwicGF0aCIsIlVSTCIsInBhdGhuYW1lIiwicmVjaXBlIiwibWF0Y2hNZXRob2QiLCJtYXRjaF9tZXRob2QiLCJoYXNNYXRjaCIsInNjcmlwdGluZyIsImV4ZWN1dGVTY3JpcHQiLCJ0YXJnZXQiLCJmdW5jIiwic2VsZWN0b3IiLCJtYXRjaFRleHQiLCJfYiIsImVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsInRvTG93ZXJDYXNlIiwiYXJncyIsIm1hdGNoIiwibWF0Y2hfdGV4dCIsIkVycm9yIiwic2VsZWN0UmVjaXBlIiwiY2F0Y2giLCJ3ZWJOYXZpZ2F0aW9uIiwib25Db21taXR0ZWQiLCJkZXRhaWxzIiwiZnJhbWVJZCIsIm5hdmlnYXRpb25UeXBlIiwiYmFja1N0YWNrIiwiZm9yd2FyZFN0YWNrIiwiY3VycmVudFVybCIsImhpc3RvcnkiLCJmb3J3YXJkSW5kZXgiLCJpbmRleE9mIiwibW92ZWRVcmwiLCJzcGxpY2UiLCJiYWNrSW5kZXgiLCJhbmFseXplTmF2aWdhdGlvbiIsImRvY3VtZW50RWxlbWVudCIsIm91dGVySFRNTCIsInJlc3VsdHMiLCJwYWdlSHRtbCIsIm9uUmVtb3ZlZCJdLCJzb3VyY2VSb290IjoiIn0=